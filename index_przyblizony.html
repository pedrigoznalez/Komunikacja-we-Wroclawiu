<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
        <link rel="stylesheet" href="css/qgis2web.css">
        <link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/leaflet-measure.css">
        <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
		<link rel="stylesheet" href="https://unpkg.com/leaflet.fullscreen@1.6.0/Control.FullScreen.css" />
		<style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title>MAPA KOMUNIKACJI WROCŁAWIA</title>
		<script src="https://unpkg.com/leaflet.fullscreen@1.6.0/Control.FullScreen.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.7.5/proj4.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4leaflet/1.0.2/proj4leaflet.min.js"></script>
		<style>
#title {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1001;
    background: rgba(255, 255, 255, 0.85);
    padding: 8px 20px;
    border-radius: 8px;
    font-size: 18px;
    font-weight: bold;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

#logo-wroclaw-center {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 1000;
    background: rgba(255, 255, 255, 0.85);
    padding: 6px 12px;
    border-radius: 8px;
    box-shadow: 0 0 6px rgba(0, 0, 0, 0.3);
}

#logo-wroclaw-center img {
    height: 48px;
}
		<style>
.popup-link {
    display: block;
    margin-top: 8px;
    text-align: center;
    font-weight: bold;
    color: #0078d4;
    text-decoration: none;
}

.popup-link:hover {
    text-decoration: underline;
}
.popup-actions {
    text-align: center;
    margin-top: 10px;
}

.popup-link {
    display: inline-block;
    margin: 6px 0;
    font-weight: bold;
    font-size: 14px;
    color: #0078d4;
    text-decoration: none;
    font-family: Arial, sans-serif;
}

.popup-link:hover {
    text-decoration: underline;
}
</style>
<style>
  #welcomeModal {
    position: fixed;
    z-index: 9999;
    top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex; align-items: center; justify-content: center;
  }
  #welcomeContent {
    background: #fff;
    border-radius: 10px;
    padding: 20px 30px;
    max-width: 500px;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    font-family: sans-serif;
  }
  #welcomeContent h2 {
    margin-top: 0;
    color: #333;
  }
  #welcomeContent button {
    margin-top: 20px;
    padding: 8px 20px;
    font-size: 16px;
    background: #1d72b8;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  #welcomeContent button:hover {
    background: #155d8b;
  }
</style>
<style>
.leaflet-popup-content-wrapper {
    background: linear-gradient(to bottom right, #ffffff, #f0f4f8);
    border-radius: 12px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.15);
    font-family: Arial, sans-serif;
}

.leaflet-popup-content {
    margin: 8px 12px;
    color: #333;
}
</style>
<style>
.leaflet-control-scale {
  margin-bottom: 30px !important; /* podnosi podziałkę nad pasek statusu */
}
</style>
<style>
.leaflet-control-attribution {
  display: none !important;
}
</style>
<style>
#map-status-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 22px;
  font-size: 12px;
  background: rgba(255, 255, 255, 0.85);
  color: #000;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 10px;
  font-family: Arial, sans-serif;
  z-index: 999;
  border-top: 1px solid #ccc;
}
</style>
		<link rel="stylesheet" href="https://unpkg.com/leaflet-control-search/dist/leaflet-control-search.min.css" />
<script src="https://unpkg.com/leaflet-control-search/dist/leaflet-control-search.min.js"></script>
    <style>
.map-legend-title {
    background: white;
    padding: 6px 12px;
    border-radius: 8px;
    box-shadow: 0 0 6px rgba(0,0,0,0.2);
    font-family: Arial, sans-serif;
    margin-bottom: 5px;
}
</style>
	</head>
    <body>
        <div id="map">
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/L.Control.Layers.Tree.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet-measure.js"></script>
		<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.7.5/proj4.js"></script>
        <script src="data/GranicamiastaWrocaw_1.js"></script>
        <script src="data/Peronydworcwkolejowych_2.js"></script>
        <script src="data/Dworcekolejowe_3.js"></script>
        <script src="data/ParkujiJed_4.js"></script>
        <script src="data/ciekiroweroweexp_5.js"></script>
        <script src="data/Sklepyroweroweexp_6.js"></script>
        <script src="data/Wypoyczalniarowerwexp_7.js"></script>
        <script src="data/Parkinigidlarowerwexp_8.js"></script>
        <script src="data/Stacjanaprawyrowerwexp_9.js"></script>
        <script src="data/Pasyroweroweexp_10.js"></script>
        <script src="data/Przystankitramwajowe_11.js"></script>
        <script src="data/Przystankiautobusowe_12.js"></script>
        <script src="data/linia_9_13.js"></script>
        <script src="data/linia_10_14.js"></script>
        <script src="data/linia_11_15.js"></script>
        <script src="data/linia_12_16.js"></script>
        <script src="data/linia_13_17.js"></script>
        <script src="data/linia_14_18.js"></script>
        <script src="data/linia_15_19.js"></script>
        <script src="data/linia_16_20.js"></script>
        <script src="data/linia_17_21.js"></script>
        <script src="data/linia_18_22.js"></script>
        <script src="data/linia_19_23.js"></script>
        <script src="data/linia_20_24.js"></script>
        <script src="data/linia_21_25.js"></script>
        <script src="data/linia_22_26.js"></script>
        <script src="data/linia_23_27.js"></script>
        <script src="data/linia_24_28.js"></script>
        <script src="data/linia_0_29.js"></script>
        <script src="data/linia_1_30.js"></script>
        <script src="data/linia_2_31.js"></script>
        <script src="data/linia_3_32.js"></script>
        <script src="data/linia_4_33.js"></script>
        <script src="data/linia_5_34.js"></script>
        <script src="data/linia_6_35.js"></script>
        <script src="data/linia_7_36.js"></script>
        <script src="data/linia_8_37.js"></script>
        <script src="data/linia_602_38.js"></script>
        <script src="data/linia_607_39.js"></script>
        <script src="data/linia_612_40.js"></script>
        <script src="data/linia_800_41.js"></script>
        <script src="data/linia_810_42.js"></script>
        <script src="data/linia_820_43.js"></script>
        <script src="data/linia_860_44.js"></script>
        <script src="data/linia_870_45.js"></script>
        <script src="data/linia_904_46.js"></script>
        <script src="data/linia_905_47.js"></script>
        <script src="data/linia_908_48.js"></script>
        <script src="data/linia_911_49.js"></script>
        <script src="data/linia_914_50.js"></script>
        <script src="data/linia_920_51.js"></script>
        <script src="data/linia_921_52.js"></script>
        <script src="data/linia_924_53.js"></script>
        <script src="data/linia_930_54.js"></script>
        <script src="data/linia_931_55.js"></script>
        <script src="data/linia_933_56.js"></script>
        <script src="data/linia_934_57.js"></script>
        <script src="data/linia_936_58.js"></script>
        <script src="data/linia_A_59.js"></script>
        <script src="data/linia_D_60.js"></script>
        <script src="data/linia_K_61.js"></script>
        <script src="data/linia_N_62.js"></script>
        <script src="data/linia_100_63.js"></script>
        <script src="data/linia_101_64.js"></script>
        <script src="data/linia_102_65.js"></script>
        <script src="data/linia_103_66.js"></script>
        <script src="data/linia_104_67.js"></script>
        <script src="data/linia_105_68.js"></script>
        <script src="data/linia_106_69.js"></script>
        <script src="data/linia_107_70.js"></script>
        <script src="data/linia_108_71.js"></script>
        <script src="data/linia_110_72.js"></script>
        <script src="data/linia_111_73.js"></script>
        <script src="data/linia_112_74.js"></script>
        <script src="data/linia_113_75.js"></script>
        <script src="data/linia_114_76.js"></script>
        <script src="data/linia_115_77.js"></script>
        <script src="data/linia_116_78.js"></script>
        <script src="data/linia_118_79.js"></script>
        <script src="data/linia_119_80.js"></script>
        <script src="data/linia_120_81.js"></script>
        <script src="data/linia_121_82.js"></script>
        <script src="data/linia_122_83.js"></script>
        <script src="data/linia_124_84.js"></script>
        <script src="data/linia_125_85.js"></script>
        <script src="data/linia_126_86.js"></script>
        <script src="data/linia_127_87.js"></script>
        <script src="data/linia_128_88.js"></script>
        <script src="data/linia_129_89.js"></script>
        <script src="data/linia_130_90.js"></script>
        <script src="data/linia_131_91.js"></script>
        <script src="data/linia_132_92.js"></script>
        <script src="data/linia_133_93.js"></script>
        <script src="data/linia_134_94.js"></script>
        <script src="data/linia_136_95.js"></script>
        <script src="data/linia_142_96.js"></script>
        <script src="data/linia_143_97.js"></script>
        <script src="data/linia_144_98.js"></script>
        <script src="data/linia_145_99.js"></script>
        <script src="data/linia_146_100.js"></script>
        <script src="data/linia_147_101.js"></script>
        <script src="data/linia_148_102.js"></script>
        <script src="data/linia_149_103.js"></script>
        <script src="data/linia_150_104.js"></script>
        <script src="data/linia_151_105.js"></script>
        <script src="data/linia_152_106.js"></script>
        <script src="data/linia_206_107.js"></script>
        <script src="data/linia_240_108.js"></script>
        <script src="data/linia_241_109.js"></script>
        <script src="data/linia_242_110.js"></script>
        <script src="data/linia_243_111.js"></script>
        <script src="data/linia_244_112.js"></script>
        <script src="data/linia_245_113.js"></script>
        <script src="data/linia_246_114.js"></script>
        <script src="data/linia_247_115.js"></script>
        <script src="data/linia_248_116.js"></script>
        <script src="data/linia_249_117.js"></script>
        <script src="data/linia_250_118.js"></script>
        <script src="data/linia_251_119.js"></script>
        <script src="data/linia_253_120.js"></script>
        <script src="data/linia_255_121.js"></script>
        <script src="data/linia_520_122.js"></script>
        <script src="data/linia_257_123.js"></script>
        <script src="data/linia_259_124.js"></script>
        <script src="data/linia_315_125.js"></script>
        <script src="data/linia_319_126.js"></script>
        <script src="data/linia_345_127.js"></script>
        <script src="data/linia_512_128.js"></script>
        <script src="data/Dworcekolejowe_129.js"></script>
        <script>
		// Podkłady mapowe
var baseLayer_OSM = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© OpenStreetMap'
});

var baseLayer_CartoDark = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="https://carto.com/">CartoDB</a>',
    subdomains: 'abcd'
});
var baseLayer_ESRI = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
    maxZoom: 19,
    attribution: '&copy; <a href="https://www.esri.com/">Esri</a>'
});
        var map = L.map('map', {
    center: [51.1079, 17.0385],
    zoom: 13,
    zoomControl: false,
    maxZoom: 19,
    minZoom: 10,
	layers: [baseLayer_OSM]
});


let klikMarker;
let ostatniKlik = 0;

map.on('click', function(e) {
    const teraz = Date.now();
    const { lat, lng } = e.latlng;

    // Jeśli znacznik istnieje i kliknięto w jego pobliżu – usuń
    if (klikMarker) {
        const pos = klikMarker.getLatLng();
        const dystans = map.distance(pos, e.latlng); // w metrach
        if (dystans < 15) { // np. 15m — można zmienić
            map.removeLayer(klikMarker);
            klikMarker = null;
            return;
        } else {
            map.removeLayer(klikMarker);
            klikMarker = null;
        }
    }

    // Blokada zbyt szybkich kliknięć
    if (teraz - ostatniKlik < 1000) return;
    ostatniKlik = teraz;

    fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${lat}&lon=${lng}`)
        .then(response => response.json())
        .then(data => {
            const address = data.display_name || 'Adres nieznany';
            klikMarker = L.marker([lat, lng]).addTo(map)
                .bindPopup(`<b>Adres:</b><br>${address}<br><b>φ:</b> ${lat.toFixed(5)}<br><b>λ:</b> ${lng.toFixed(5)}`)
                .openPopup();
        })
        .catch(() => {
            klikMarker = L.marker([lat, lng]).addTo(map)
                .bindPopup(`<b>φ:</b> ${lat.toFixed(5)}<br><b>λ:</b> ${lng.toFixed(5)}<br><i>Nie udało się pobrać adresu.</i>`)
                .openPopup();
        });
});

proj4.defs("EPSG:2180", "+proj=tmerc +lat_0=0 +lon_0=19 +k=0.9993 +x_0=500000 +y_0=-5300000 +ellps=GRS80 +units=m +no_defs");

let highlightedFeature = null;
let originalStyle = null;

function highlightOnClick(layer) {
    if (highlightedFeature) {
        resetHighlight(highlightedFeature, originalStyle);
    }

    originalStyle = {
        weight: layer.options.weight,
        color: layer.options.color,
        fillOpacity: layer.options.fillOpacity
    };

    layer.setStyle({
        weight: 5,
        color: '#FFD700', // złoty
        fillOpacity: 0.7
    });

    highlightedFeature = layer;
}

function resetHighlight(layer, style) {
    layer.setStyle(style);
}

map.on('click', function () {
    if (highlightedFeature) {
        resetHighlight(highlightedFeature, originalStyle);
        highlightedFeature = null;
        originalStyle = null;
    }
});
var geocoder = L.Control.geocoder({
    defaultMarkGeocode: false,
    placeholder: "Wyszukaj lokalizację...",
    collapsed: false
}).on('markgeocode', function(e) {
    map.fitBounds(e.geocode.bbox);
    // opcjonalnie pokaż popup zamiast markera:
    L.popup()
        .setLatLng(e.geocode.center)
        .setContent('<b>Wybrana lokalizacja:</b><br>' + e.geocode.name)
        .openOn(map);
}).addTo(map);
map.on('mousemove', function (e) {
      const lat = e.latlng.lat;
      const lng = e.latlng.lng;
      const [x, y] = proj4("EPSG:4326", "EPSG:2180", [lng, lat]);

      document.getElementById('map-coords').textContent =
          `X: ${x.toFixed(2)}  Y: ${y.toFixed(2)}   N: ${lat.toFixed(5)}°  E: ${lng.toFixed(5)}°`;
  });
	L.control.scale({
  position: 'bottomleft', // umieszcza podziałkę w lewym dolnym rogu
  metric: true,           // pokazuje jednostki metryczne (km/m)
  imperial: false         // nie pokazuje mil
}).addTo(map);
map.on('zoomend moveend', function () {
    const scale = (40075016.686 / Math.pow(2, map.getZoom())).toFixed(0);
    document.getElementById('map-scale').textContent =
        `  Aktualna skala 1:${scale}`;
});
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        // remove popup's row if "visible-with-data"
        function removeEmptyRowsFromPopupContent(content, feature) {
         var tempDiv = document.createElement('div');
         tempDiv.innerHTML = content;
         var rows = tempDiv.querySelectorAll('tr');
         for (var i = 0; i < rows.length; i++) {
             var td = rows[i].querySelector('td.visible-with-data');
             var key = td ? td.id : '';
             if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                 rows[i].parentNode.removeChild(rows[i]);
             }
         }
         return tempDiv.innerHTML;
        }
        // add class to format popup if it contains media
		function addClassToPopupIfMedia(content, popup) {
			var tempDiv = document.createElement('div');
			tempDiv.innerHTML = content;
			if (tempDiv.querySelector('td img')) {
				popup._contentNode.classList.add('media');
					// Delay to force the redraw
					setTimeout(function() {
						popup.update();
					}, 10);
			} else {
				popup._contentNode.classList.remove('media');
			}
		}
        var title = new L.Control({'position':'topright'});
        title.onAdd = function (map) {
            this._div = L.DomUtil.create('div', 'info');
            this.update();
            return this._div;
        };
        title.update = function () {
            this._div.innerHTML = '<h2>MAPA KOMUNIKACJI WROCŁAWIA</h2>';
        };
        title.addTo(map);
        var zoomControl = L.control.zoom({
            position: 'topleft'
        }).addTo(map);
        var measureControl = new L.Control.Measure({
            position: 'topleft',
            primaryLengthUnit: 'meters',
			secondaryLengthUnit: 'kilometers',
			primaryAreaUnit: 'sqmeters',
			secondaryAreaUnit: 'hectares'
        });
        measureControl.addTo(map);
        document.getElementsByClassName('leaflet-control-measure-toggle')[0].innerHTML = '';
        document.getElementsByClassName('leaflet-control-measure-toggle')[0].className += ' fas fa-ruler';
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
        }
        map.createPane('pane_OSMLIGHT_0');
        map.getPane('pane_OSMLIGHT_0').style.zIndex = 400;
        var layer_OSMLIGHT_0 = L.tileLayer('https://a.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            pane: 'pane_OSMLIGHT_0',
            opacity: 1.0,
            attribution: '',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 18
        });
        layer_OSMLIGHT_0;
        map.addLayer(layer_OSMLIGHT_0);
        function pop_GranicamiastaWrocaw_1(feature, layer) {
    // brak popupu
}

        function style_GranicamiastaWrocaw_1_0() {
            return {
                pane: 'pane_GranicamiastaWrocaw_1',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 4.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_GranicamiastaWrocaw_1');
        map.getPane('pane_GranicamiastaWrocaw_1').style.zIndex = 401;
        map.getPane('pane_GranicamiastaWrocaw_1').style['mix-blend-mode'] = 'normal';
        var layer_GranicamiastaWrocaw_1 = new L.geoJson(json_GranicamiastaWrocaw_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_GranicamiastaWrocaw_1',
            layerName: 'layer_GranicamiastaWrocaw_1',
            pane: 'pane_GranicamiastaWrocaw_1',
            onEachFeature: pop_GranicamiastaWrocaw_1,
            style: style_GranicamiastaWrocaw_1_0,
        });
        bounds_group.addLayer(layer_GranicamiastaWrocaw_1);
        map.addLayer(layer_GranicamiastaWrocaw_1);
        function pop_Peronydworcwkolejowych_2(feature, layer) {
    var popupContent = '<table>' +
        '<tr><td colspan="2"><b>Peron / Dworzec kolejowy</b></td></tr>';

    if (feature.properties['fid'] !== null) {
        popupContent += '<tr><td colspan="2"><b>ID:</b> ' +
            autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) + '</td></tr>';
    }
    if (feature.properties['Nazwa'] !== null) {
        popupContent += '<tr><td colspan="2"><b>Nazwa dworca:</b> ' +
            autolinker.link(String(feature.properties['Nazwa']).replace(/'/g, '\'').toLocaleString()) + '</td></tr>';
    }

    popupContent += '</table>';

    var content = removeEmptyRowsFromPopupContent(popupContent, feature);
    layer.on('popupopen', function(e) {
        addClassToPopupIfMedia(content, e.popup);
    });
    layer.bindPopup(content, { maxHeight: 400 });
}

        function style_Peronydworcwkolejowych_2_0() {
            return {
                pane: 'pane_Peronydworcwkolejowych_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,158,23,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Peronydworcwkolejowych_2');
        map.getPane('pane_Peronydworcwkolejowych_2').style.zIndex = 402;
        map.getPane('pane_Peronydworcwkolejowych_2').style['mix-blend-mode'] = 'normal';
        var layer_Peronydworcwkolejowych_2 = new L.geoJson(json_Peronydworcwkolejowych_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Peronydworcwkolejowych_2',
            layerName: 'layer_Peronydworcwkolejowych_2',
            pane: 'pane_Peronydworcwkolejowych_2',
            onEachFeature: pop_Peronydworcwkolejowych_2,
            style: style_Peronydworcwkolejowych_2_0,
        });
        bounds_group.addLayer(layer_Peronydworcwkolejowych_2);
        // map.addLayer(layer_Peronydworcwkolejowych_2);
        function pop_Dworcekolejowe_3(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['fid'] !== null ? autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['full_id'] !== null ? autolinker.link(String(feature.properties['full_id']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['osm_id'] !== null ? autolinker.link(String(feature.properties['osm_id']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['osm_type'] !== null ? autolinker.link(String(feature.properties['osm_type']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['railway'] !== null ? autolinker.link(String(feature.properties['railway']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['old_name'] !== null ? autolinker.link(String(feature.properties['old_name']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['old_name:de'] !== null ? autolinker.link(String(feature.properties['old_name:de']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['wikipedia'] !== null ? autolinker.link(String(feature.properties['wikipedia']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['wikidata'] !== null ? autolinker.link(String(feature.properties['wikidata']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['wheelchair'] !== null ? autolinker.link(String(feature.properties['wheelchair']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['uic_ref'] !== null ? autolinker.link(String(feature.properties['uic_ref']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['train'] !== null ? autolinker.link(String(feature.properties['train']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['railway:ref:DB'] !== null ? autolinker.link(String(feature.properties['railway:ref:DB']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['railway:ref'] !== null ? autolinker.link(String(feature.properties['railway:ref']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['public_transport'] !== null ? autolinker.link(String(feature.properties['public_transport']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['operator'] !== null ? autolinker.link(String(feature.properties['operator']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['network'] !== null ? autolinker.link(String(feature.properties['network']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['name'] !== null ? autolinker.link(String(feature.properties['name']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['alt_name'] !== null ? autolinker.link(String(feature.properties['alt_name']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Dworcekolejowe_3_0() {
            return {
                pane: 'pane_Dworcekolejowe_3',
                radius: 5.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 2,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(190,207,80,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Dworcekolejowe_3');
        map.getPane('pane_Dworcekolejowe_3').style.zIndex = 403;
        map.getPane('pane_Dworcekolejowe_3').style['mix-blend-mode'] = 'normal';
        var layer_Dworcekolejowe_3 = new L.geoJson(json_Dworcekolejowe_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Dworcekolejowe_3',
            layerName: 'layer_Dworcekolejowe_3',
            pane: 'pane_Dworcekolejowe_3',
            onEachFeature: pop_Dworcekolejowe_3,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_Dworcekolejowe_3_0(feature));
            },
        });
        bounds_group.addLayer(layer_Dworcekolejowe_3);
        // map.addLayer(layer_Dworcekolejowe_3);
        function pop_ParkujiJed_4(feature, layer) {
    var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>🅿️ Parking „Parkuj i Jedź”</b></td></tr>';

    if (p['fid']) popupContent += `<tr><td colspan='2'><b>ID:</b> ${p['fid']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa:</b> ${p['name']}</td></tr>`;
    if (p['capacity']) popupContent += `<tr><td colspan='2'><b>Pojemność:</b> ${p['capacity']}</td></tr>`;
    if (p['access']) popupContent += `<tr><td colspan='2'><b>Dostęp:</b> ${p['access']}</td></tr>`;
    if (p['surface']) popupContent += `<tr><td colspan='2'><b>Nawierzchnia:</b> ${p['surface']}</td></tr>`;
    if (p['opening_hours']) popupContent += `<tr><td colspan='2'><b>Godziny otwarcia:</b> ${p['opening_hours']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['supervised']) popupContent += `<tr><td colspan='2'><b>Nadzór:</b> ${p['supervised']}</td></tr>`;
    if (p['description']) popupContent += `<tr><td colspan='2'><b>Opis:</b> ${p['description']}</td></tr>`;
    if (p['Powierzchnia']) popupContent += `<tr><td colspan='2'><b>Powierzchnia:</b> ${p['Powierzchnia']}</td></tr>`;

    popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
}

        function style_ParkujiJed_4_0() {
            return {
                pane: 'pane_ParkujiJed_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,158,23,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_ParkujiJed_4');
        map.getPane('pane_ParkujiJed_4').style.zIndex = 404;
        map.getPane('pane_ParkujiJed_4').style['mix-blend-mode'] = 'normal';
        var layer_ParkujiJed_4 = new L.geoJson(json_ParkujiJed_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_ParkujiJed_4',
            layerName: 'layer_ParkujiJed_4',
            pane: 'pane_ParkujiJed_4',
            onEachFeature: pop_ParkujiJed_4,
            style: style_ParkujiJed_4_0,
        });
        bounds_group.addLayer(layer_ParkujiJed_4);
        // map.addLayer(layer_ParkujiJed_4);
        function pop_ciekiroweroweexp_5(feature, layer) {
    var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>🚴 Ścieżka rowerowa</b></td></tr>';
    if (p['fid']) popupContent += `<tr><td colspan='2'><b>ID:</b> ${p['fid']}</td></tr>`;
    if (p['width']) popupContent += `<tr><td colspan='2'><b>Szerokość:</b> ${p['width']}</td></tr>`;
    if (p['oneway']) popupContent += `<tr><td colspan='2'><b>Jednokierunkowa:</b> ${p['oneway']}</td></tr>`;
    if (p['surface']) popupContent += `<tr><td colspan='2'><b>Nawierzchnia:</b> ${p['surface']}</td></tr>`;
    if (p['smoothness']) popupContent += `<tr><td colspan='2'><b>Gładkość:</b> ${p['smoothness']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa:</b> ${p['name']}</td></tr>`;
    if (p['lit']) popupContent += `<tr><td colspan='2'><b>Oświetlenie:</b> ${p['lit']}</td></tr>`;
    if (p['Długość [m]']) popupContent += `<tr><td colspan='2'><b>Długość [m]:</b> ${p['Długość [m]']}</td></tr>`;
    popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
}

        function style_ciekiroweroweexp_5_0() {
            return {
                pane: 'pane_ciekiroweroweexp_5',
                opacity: 1,
                color: 'rgba(255,158,23,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_ciekiroweroweexp_5');
        map.getPane('pane_ciekiroweroweexp_5').style.zIndex = 405;
        map.getPane('pane_ciekiroweroweexp_5').style['mix-blend-mode'] = 'normal';
        var layer_ciekiroweroweexp_5 = new L.geoJson(json_ciekiroweroweexp_5, {
            attribution: '',
            interactive: true,
            dataVar: 'json_ciekiroweroweexp_5',
            layerName: 'layer_ciekiroweroweexp_5',
            pane: 'pane_ciekiroweroweexp_5',
            onEachFeature: pop_ciekiroweroweexp_5,
            style: style_ciekiroweroweexp_5_0,
        });
        bounds_group.addLayer(layer_ciekiroweroweexp_5);
        // map.addLayer(layer_ciekiroweroweexp_5);
        function pop_Sklepyroweroweexp_6(feature, layer) {
    var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>🛒 Sklep rowerowy</b></td></tr>';
    if (p['fid']) popupContent += `<tr><td colspan='2'><b>ID:</b> ${p['fid']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa:</b> ${p['name']}</td></tr>`;
    if (p['phone']) popupContent += `<tr><td colspan='2'><b>Telefon:</b> ${p['phone']}</td></tr>`;
    if (p['email']) popupContent += `<tr><td colspan='2'><b>Email:</b> ${p['email']}</td></tr>`;
    if (p['website']) popupContent += `<tr><td colspan='2'><b>Strona:</b> ${p['website']}</td></tr>`;
    if (p['addr:street']) popupContent += `<tr><td colspan='2'><b>Ulica:</b> ${p['addr:street']}</td></tr>`;
    if (p['addr:city']) popupContent += `<tr><td colspan='2'><b>Miasto:</b> ${p['addr:city']}</td></tr>`;
    if (p['opening_hours']) popupContent += `<tr><td colspan='2'><b>Godziny otwarcia:</b> ${p['opening_hours']}</td></tr>`;
    popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
}

        function style_Sklepyroweroweexp_6_0() {
            return {
                pane: 'pane_Sklepyroweroweexp_6',
                radius: 3.2,
                opacity: 1,
                color: 'rgba(35,35,35,0.97)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(166,142,62,0.97)',
                interactive: true,
            }
        }
        map.createPane('pane_Sklepyroweroweexp_6');
        map.getPane('pane_Sklepyroweroweexp_6').style.zIndex = 406;
        map.getPane('pane_Sklepyroweroweexp_6').style['mix-blend-mode'] = 'normal';
        var layer_Sklepyroweroweexp_6 = new L.geoJson(json_Sklepyroweroweexp_6, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Sklepyroweroweexp_6',
            layerName: 'layer_Sklepyroweroweexp_6',
            pane: 'pane_Sklepyroweroweexp_6',
            onEachFeature: pop_Sklepyroweroweexp_6,
            pointToLayer: function (feature, latlng) {
    return L.circleMarker(latlng, {
        radius: 4,
        fillColor: '#9B59B6', // ← kolor fioletowy (sklepy rowerowe)
        color: '#000',        // obwódka
        weight: 1,
        opacity: 1,
        fillOpacity: 0.8
    });
}

        });
        bounds_group.addLayer(layer_Sklepyroweroweexp_6);
        // map.addLayer(layer_Sklepyroweroweexp_6);
        function pop_Wypoyczalniarowerwexp_7(feature, layer) {
    var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>🚲 Wypożyczalnia rowerów</b></td></tr>';
    if (p['fid']) popupContent += `<tr><td colspan='2'><b>ID:</b> ${p['fid']}</td></tr>`;
    if (p['amenity']) popupContent += `<tr><td colspan='2'><b>Typ obiektu:</b> ${p['amenity']}</td></tr>`;
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer referencyjny:</b> ${p['ref']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['network']) popupContent += `<tr><td colspan='2'><b>Sieć:</b> ${p['network']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa:</b> ${p['name']}</td></tr>`;
    if (p['contact:website']) popupContent += `<tr><td colspan='2'><b>Strona www:</b> ${p['contact:website']}</td></tr>`;
    if (p['bicycle_rental']) popupContent += `<tr><td colspan='2'><b>Typ usługi:</b> ${p['bicycle_rental']}</td></tr>`;
    popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
}

        function style_Wypoyczalniarowerwexp_7_0() {
            return {
                pane: 'pane_Wypoyczalniarowerwexp_7',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(164,113,88,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Wypoyczalniarowerwexp_7');
        map.getPane('pane_Wypoyczalniarowerwexp_7').style.zIndex = 407;
        map.getPane('pane_Wypoyczalniarowerwexp_7').style['mix-blend-mode'] = 'normal';
        var layer_Wypoyczalniarowerwexp_7 = new L.geoJson(json_Wypoyczalniarowerwexp_7, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Wypoyczalniarowerwexp_7',
            layerName: 'layer_Wypoyczalniarowerwexp_7',
            pane: 'pane_Wypoyczalniarowerwexp_7',
            onEachFeature: pop_Wypoyczalniarowerwexp_7,
            pointToLayer: function (feature, latlng) {
    return L.circleMarker(latlng, {
        radius: 4,
        fillColor: '#7F8C8D', // 
        color: '#000',        // obwódka
        weight: 1,
        opacity: 1,
        fillOpacity: 0.8
    });
},
        });
        bounds_group.addLayer(layer_Wypoyczalniarowerwexp_7);
        // map.addLayer(layer_Wypoyczalniarowerwexp_7);
        function pop_Parkinigidlarowerwexp_8(feature, layer) {
    var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>🅿️ Parking rowerowy</b></td></tr>';
    if (p['fid']) popupContent += `<tr><td colspan='2'><b>ID:</b> ${p['fid']}</td></tr>`;
    if (p['amenity']) popupContent += `<tr><td colspan='2'><b>Typ:</b> ${p['amenity']}</td></tr>`;
    if (p['lit']) popupContent += `<tr><td colspan='2'><b>Oświetlenie:</b> ${p['lit']}</td></tr>`;
    popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	
}
        function style_Parkinigidlarowerwexp_8_0() {
            return {
                pane: 'pane_Parkinigidlarowerwexp_8',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(229,182,54,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Parkinigidlarowerwexp_8');
        map.getPane('pane_Parkinigidlarowerwexp_8').style.zIndex = 408;
        map.getPane('pane_Parkinigidlarowerwexp_8').style['mix-blend-mode'] = 'normal';
        var layer_Parkinigidlarowerwexp_8 = new L.geoJson(json_Parkinigidlarowerwexp_8, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Parkinigidlarowerwexp_8',
            layerName: 'layer_Parkinigidlarowerwexp_8',
            pane: 'pane_Parkinigidlarowerwexp_8',
            onEachFeature: pop_Parkinigidlarowerwexp_8,
            style: style_Parkinigidlarowerwexp_8_0,
        });
        bounds_group.addLayer(layer_Parkinigidlarowerwexp_8);
        //map.addLayer(layer_Parkinigidlarowerwexp_8);
        function pop_Stacjanaprawyrowerwexp_9(feature, layer) {
    var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>🛠 Stacja naprawy rowerów</b></td></tr>';
    if (p['fid']) popupContent += `<tr><td colspan='2'><b>ID:</b> ${p['fid']}</td></tr>`;
    if (p['fee']) popupContent += `<tr><td colspan='2'><b>Opłata:</b> ${p['fee']}</td></tr>`;
    if (p['opening_hours']) popupContent += `<tr><td colspan='2'><b>Godziny otwarcia:</b> ${p['opening_hours']}</td></tr>`;
    if (p['service:bicycle:tools']) popupContent += `<tr><td colspan='2'><b>Narzędzia:</b> ${p['service:bicycle:tools']}</td></tr>`;
    if (p['service:bicycle:pump']) popupContent += `<tr><td colspan='2'><b>Pompka:</b> ${p['service:bicycle:pump']}</td></tr>`;
    popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}


        function style_Stacjanaprawyrowerwexp_9_0() {
            return {
                pane: 'pane_Stacjanaprawyrowerwexp_9',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(145,82,45,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Stacjanaprawyrowerwexp_9');
        map.getPane('pane_Stacjanaprawyrowerwexp_9').style.zIndex = 409;
        map.getPane('pane_Stacjanaprawyrowerwexp_9').style['mix-blend-mode'] = 'normal';
        var layer_Stacjanaprawyrowerwexp_9 = new L.geoJson(json_Stacjanaprawyrowerwexp_9, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Stacjanaprawyrowerwexp_9',
            layerName: 'layer_Stacjanaprawyrowerwexp_9',
            pane: 'pane_Stacjanaprawyrowerwexp_9',
            onEachFeature: pop_Stacjanaprawyrowerwexp_9,
            pointToLayer: function (feature, latlng) {
    return L.circleMarker(latlng, {
        radius: 4,
        fillColor: '#E74C3C', // 
        color: '#000',        // obwódka
        weight: 1,
        opacity: 1,
        fillOpacity: 0.8
    });
},
        });
        bounds_group.addLayer(layer_Stacjanaprawyrowerwexp_9);
        //map.addLayer(layer_Stacjanaprawyrowerwexp_9);
        function pop_Pasyroweroweexp_10(feature, layer) {
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Pas rowerowy</b></td></tr>';

    if (feature.properties['fid']) {
        popupContent += '<tr><td><b>ID:</b></td><td>' + feature.properties['fid'] + '</td></tr>';
    }
    if (feature.properties['surface']) {
        popupContent += '<tr><td><b>Nawierzchnia:</b></td><td>' + feature.properties['surface'] + '</td></tr>';
    }
    if (feature.properties['width']) {
        popupContent += '<tr><td><b>Szerokość:</b></td><td>' + feature.properties['width'] + '</td></tr>';
    }
    if (feature.properties['oneway']) {
        popupContent += '<tr><td><b>Jednokierunkowy:</b></td><td>' + feature.properties['oneway'] + '</td></tr>';
    }
    if (feature.properties['smoothness']) {
        popupContent += '<tr><td><b>Gładkość:</b></td><td>' + feature.properties['smoothness'] + '</td></tr>';
    }
    if (feature.properties['name']) {
        popupContent += '<tr><td><b>Nazwa:</b></td><td>' + feature.properties['name'] + '</td></tr>';
    }
    if (feature.properties['lit']) {
        popupContent += '<tr><td><b>Oświetlenie:</b></td><td>' + feature.properties['lit'] + '</td></tr>';
    }
    if (feature.properties['Długość [m]']) {
        popupContent += '<tr><td><b>Długość [m]:</b></td><td>' + feature.properties['Długość [m]'] + '</td></tr>';
    }

    popupContent += '</table>';

    var content = removeEmptyRowsFromPopupContent(popupContent, feature);
    layer.on('popupopen', function(e) {
        addClassToPopupIfMedia(content, e.popup);
    });
    layer.bindPopup(content, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_Pasyroweroweexp_10_0() {
            return {
                pane: 'pane_Pasyroweroweexp_10',
                opacity: 1,
                color: 'rgba(152,125,183,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_Pasyroweroweexp_10');
        map.getPane('pane_Pasyroweroweexp_10').style.zIndex = 410;
        map.getPane('pane_Pasyroweroweexp_10').style['mix-blend-mode'] = 'normal';
        var layer_Pasyroweroweexp_10 = new L.geoJson(json_Pasyroweroweexp_10, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Pasyroweroweexp_10',
            layerName: 'layer_Pasyroweroweexp_10',
            pane: 'pane_Pasyroweroweexp_10',
            onEachFeature: pop_Pasyroweroweexp_10,
            style: style_Pasyroweroweexp_10_0,
        });
        bounds_group.addLayer(layer_Pasyroweroweexp_10);
        //map.addLayer(layer_Pasyroweroweexp_10);
        function pop_Przystankitramwajowe_11(feature, layer) {
    var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Przystanek tramwajowy</b></td></tr>';

    if (p['fid']) popupContent += `<tr><td colspan="2"><b>ID:</b> ${p['fid']}</td></tr>`;
    if (p['railway']) popupContent += `<tr><td colspan="2"><b>Typ obiektu:</b> ${p['railway']}</td></tr>`;
    if (p['shelter']) popupContent += `<tr><td colspan="2"><b>Wiata:</b> ${p['shelter']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan="2"><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['network']) popupContent += `<tr><td colspan="2"><b>Sieć:</b> ${p['network']}</td></tr>`;
    if (p['short_name']) popupContent += `<tr><td colspan="2"><b>Krótka nazwa:</b> ${p['short_name']}</td></tr>`;
    if (p['bus']) popupContent += `<tr><td colspan="2"><b>Obsługuje autobus:</b> ${p['bus']}</td></tr>`;
    if (p['descriptio']) popupContent += `<tr><td colspan="2"><b>Opis:</b> ${p['descriptio']}</td></tr>`;
    if (p['source_alt']) popupContent += `<tr><td colspan="2"><b>Źródło danych:</b> ${p['source_alt']}</td></tr>`;
    if (p['alt_name']) popupContent += `<tr><td colspan="2"><b>Alternatywna nazwa:</b> ${p['alt_name']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan="2"><b>Nazwa:</b> ${p['name']}</td></tr>`;
    if (p['wynik_grupowania12_tramwaje']) popupContent += `<tr><td colspan="2"><b>Obsługiwane linie:</b> ${p['wynik_grupowania12_tramwaje']}</td></tr>`;

    popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_Przystankitramwajowe_11_0() {
            return {
                pane: 'pane_Przystankitramwajowe_11',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(213,180,60,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Przystankitramwajowe_11');
        map.getPane('pane_Przystankitramwajowe_11').style.zIndex = 650;
        map.getPane('pane_Przystankitramwajowe_11').style['mix-blend-mode'] = 'normal';
        var layer_Przystankitramwajowe_11 = new L.geoJson(json_Przystankitramwajowe_11, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Przystankitramwajowe_11',
            layerName: 'layer_Przystankitramwajowe_11',
            pane: 'pane_Przystankitramwajowe_11',
            onEachFeature: pop_Przystankitramwajowe_11,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_Przystankitramwajowe_11_0(feature));
            },
        });
        bounds_group.addLayer(layer_Przystankitramwajowe_11);
        // map.addLayer(layer_Przystankitramwajowe_11);
        function pop_Przystankiautobusowe_12(feature, layer) {
    var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Przystanek autobusowy</b></td></tr>';
    if (p['stop_name']) popupContent += `<tr><td colspan="2"><b>Nazwa:</b> ${p['stop_name']}</td></tr>`;
    if (p['stop_code']) popupContent += `<tr><td colspan="2"><b>Kod przystanku:</b> ${p['stop_code']}</td></tr>`;
    if (p['stop_id']) popupContent += `<tr><td colspan="2"><b>ID:</b> ${p['stop_id']}</td></tr>`;
    if (p['stop_lat'] && p['stop_lon']) {
        popupContent += `<tr><td colspan="2"><b>Współrzędne:</b> ${p['stop_lat']}, ${p['stop_lon']}</td></tr>`;
    }
    if (p['wynik_grupowania5_ref']) {
        popupContent += `<tr><td colspan="2"><b>Obsługiwane linie:</b> ${p['wynik_grupowania5_ref']}</td></tr>`;
    }
    popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_Przystankiautobusowe_12_0() {
            return {
                pane: 'pane_Przystankiautobusowe_12',
                radius: 3.2,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(71,190,69,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Przystankiautobusowe_12');
        map.getPane('pane_Przystankiautobusowe_12').style.zIndex = 650;
        map.getPane('pane_Przystankiautobusowe_12').style['mix-blend-mode'] = 'normal';
        var layer_Przystankiautobusowe_12 = new L.geoJson(json_Przystankiautobusowe_12, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Przystankiautobusowe_12',
            layerName: 'layer_Przystankiautobusowe_12',
            pane: 'pane_Przystankiautobusowe_12',
            onEachFeature: pop_Przystankiautobusowe_12,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_Przystankiautobusowe_12_0(feature));
            },
        });
        bounds_group.addLayer(layer_Przystankiautobusowe_12);
        // map.addLayer(layer_Przystankiautobusowe_12);
        function pop_linia_9_13(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_9_13_0() {
            return {
                pane: 'pane_linia_9_13',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_9_13');
        map.getPane('pane_linia_9_13').style.zIndex = 413;
        map.getPane('pane_linia_9_13').style['mix-blend-mode'] = 'normal';
        var layer_linia_9_13 = new L.geoJson(json_linia_9_13, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_9_13',
            layerName: 'layer_linia_9_13',
            pane: 'pane_linia_9_13',
            onEachFeature: pop_linia_9_13,
            style: style_linia_9_13_0,
        });
        bounds_group.addLayer(layer_linia_9_13);
        //map.addLayer(layer_linia_9_13);
        function pop_linia_10_14(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_10_14_0() {
            return {
                pane: 'pane_linia_10_14',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_10_14');
        map.getPane('pane_linia_10_14').style.zIndex = 414;
        map.getPane('pane_linia_10_14').style['mix-blend-mode'] = 'normal';
        var layer_linia_10_14 = new L.geoJson(json_linia_10_14, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_10_14',
            layerName: 'layer_linia_10_14',
            pane: 'pane_linia_10_14',
            onEachFeature: pop_linia_10_14,
            style: style_linia_10_14_0,
        });
        bounds_group.addLayer(layer_linia_10_14);
        // map.addLayer(layer_linia_10_14);
        function pop_linia_11_15(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_11_15_0() {
            return {
                pane: 'pane_linia_11_15',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_11_15');
        map.getPane('pane_linia_11_15').style.zIndex = 415;
        map.getPane('pane_linia_11_15').style['mix-blend-mode'] = 'normal';
        var layer_linia_11_15 = new L.geoJson(json_linia_11_15, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_11_15',
            layerName: 'layer_linia_11_15',
            pane: 'pane_linia_11_15',
            onEachFeature: pop_linia_11_15,
            style: style_linia_11_15_0,
        });
        bounds_group.addLayer(layer_linia_11_15);
        // map.addLayer(layer_linia_11_15);
        function pop_linia_12_16(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_12_16_0() {
            return {
                pane: 'pane_linia_12_16',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_12_16');
        map.getPane('pane_linia_12_16').style.zIndex = 416;
        map.getPane('pane_linia_12_16').style['mix-blend-mode'] = 'normal';
        var layer_linia_12_16 = new L.geoJson(json_linia_12_16, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_12_16',
            layerName: 'layer_linia_12_16',
            pane: 'pane_linia_12_16',
            onEachFeature: pop_linia_12_16,
            style: style_linia_12_16_0,
        });
        bounds_group.addLayer(layer_linia_12_16);
        //map.addLayer(layer_linia_12_16);
        function pop_linia_13_17(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_13_17_0() {
            return {
                pane: 'pane_linia_13_17',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_13_17');
        map.getPane('pane_linia_13_17').style.zIndex = 417;
        map.getPane('pane_linia_13_17').style['mix-blend-mode'] = 'normal';
        var layer_linia_13_17 = new L.geoJson(json_linia_13_17, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_13_17',
            layerName: 'layer_linia_13_17',
            pane: 'pane_linia_13_17',
            onEachFeature: pop_linia_13_17,
            style: style_linia_13_17_0,
        });
        bounds_group.addLayer(layer_linia_13_17);
        // map.addLayer(layer_linia_13_17);
        function pop_linia_14_18(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_14_18_0() {
            return {
                pane: 'pane_linia_14_18',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_14_18');
        map.getPane('pane_linia_14_18').style.zIndex = 418;
        map.getPane('pane_linia_14_18').style['mix-blend-mode'] = 'normal';
        var layer_linia_14_18 = new L.geoJson(json_linia_14_18, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_14_18',
            layerName: 'layer_linia_14_18',
            pane: 'pane_linia_14_18',
            onEachFeature: pop_linia_14_18,
            style: style_linia_14_18_0,
        });
        bounds_group.addLayer(layer_linia_14_18);
        // map.addLayer(layer_linia_14_18);
        function pop_linia_15_19(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_15_19_0() {
            return {
                pane: 'pane_linia_15_19',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_15_19');
        map.getPane('pane_linia_15_19').style.zIndex = 419;
        map.getPane('pane_linia_15_19').style['mix-blend-mode'] = 'normal';
        var layer_linia_15_19 = new L.geoJson(json_linia_15_19, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_15_19',
            layerName: 'layer_linia_15_19',
            pane: 'pane_linia_15_19',
            onEachFeature: pop_linia_15_19,
            style: style_linia_15_19_0,
        });
        bounds_group.addLayer(layer_linia_15_19);
        // map.addLayer(layer_linia_15_19);
        function pop_linia_16_20(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_16_20_0() {
            return {
                pane: 'pane_linia_16_20',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_16_20');
        map.getPane('pane_linia_16_20').style.zIndex = 420;
        map.getPane('pane_linia_16_20').style['mix-blend-mode'] = 'normal';
        var layer_linia_16_20 = new L.geoJson(json_linia_16_20, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_16_20',
            layerName: 'layer_linia_16_20',
            pane: 'pane_linia_16_20',
            onEachFeature: pop_linia_16_20,
            style: style_linia_16_20_0,
        });
        bounds_group.addLayer(layer_linia_16_20);
        // map.addLayer(layer_linia_16_20);
        function pop_linia_17_21(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_17_21_0() {
            return {
                pane: 'pane_linia_17_21',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_17_21');
        map.getPane('pane_linia_17_21').style.zIndex = 421;
        map.getPane('pane_linia_17_21').style['mix-blend-mode'] = 'normal';
        var layer_linia_17_21 = new L.geoJson(json_linia_17_21, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_17_21',
            layerName: 'layer_linia_17_21',
            pane: 'pane_linia_17_21',
            onEachFeature: pop_linia_17_21,
            style: style_linia_17_21_0,
        });
        bounds_group.addLayer(layer_linia_17_21);
        // map.addLayer(layer_linia_17_21);
        function pop_linia_18_22(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_18_22_0() {
            return {
                pane: 'pane_linia_18_22',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_18_22');
        map.getPane('pane_linia_18_22').style.zIndex = 422;
        map.getPane('pane_linia_18_22').style['mix-blend-mode'] = 'normal';
        var layer_linia_18_22 = new L.geoJson(json_linia_18_22, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_18_22',
            layerName: 'layer_linia_18_22',
            pane: 'pane_linia_18_22',
            onEachFeature: pop_linia_18_22,
            style: style_linia_18_22_0,
        });
        bounds_group.addLayer(layer_linia_18_22);
        // map.addLayer(layer_linia_18_22);
        function pop_linia_19_23(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_19_23_0() {
            return {
                pane: 'pane_linia_19_23',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_19_23');
        map.getPane('pane_linia_19_23').style.zIndex = 423;
        map.getPane('pane_linia_19_23').style['mix-blend-mode'] = 'normal';
        var layer_linia_19_23 = new L.geoJson(json_linia_19_23, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_19_23',
            layerName: 'layer_linia_19_23',
            pane: 'pane_linia_19_23',
            onEachFeature: pop_linia_19_23,
            style: style_linia_19_23_0,
        });
        bounds_group.addLayer(layer_linia_19_23);
        // map.addLayer(layer_linia_19_23);
        function pop_linia_20_24(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_20_24_0() {
            return {
                pane: 'pane_linia_20_24',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_20_24');
        map.getPane('pane_linia_20_24').style.zIndex = 424;
        map.getPane('pane_linia_20_24').style['mix-blend-mode'] = 'normal';
        var layer_linia_20_24 = new L.geoJson(json_linia_20_24, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_20_24',
            layerName: 'layer_linia_20_24',
            pane: 'pane_linia_20_24',
            onEachFeature: pop_linia_20_24,
            style: style_linia_20_24_0,
        });
        bounds_group.addLayer(layer_linia_20_24);
        // map.addLayer(layer_linia_20_24);
        function pop_linia_21_25(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_21_25_0() {
            return {
                pane: 'pane_linia_21_25',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_21_25');
        map.getPane('pane_linia_21_25').style.zIndex = 425;
        map.getPane('pane_linia_21_25').style['mix-blend-mode'] = 'normal';
        var layer_linia_21_25 = new L.geoJson(json_linia_21_25, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_21_25',
            layerName: 'layer_linia_21_25',
            pane: 'pane_linia_21_25',
            onEachFeature: pop_linia_21_25,
            style: style_linia_21_25_0,
        });
        bounds_group.addLayer(layer_linia_21_25);
        // map.addLayer(layer_linia_21_25);
        function pop_linia_22_26(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_22_26_0() {
            return {
                pane: 'pane_linia_22_26',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_22_26');
        map.getPane('pane_linia_22_26').style.zIndex = 426;
        map.getPane('pane_linia_22_26').style['mix-blend-mode'] = 'normal';
        var layer_linia_22_26 = new L.geoJson(json_linia_22_26, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_22_26',
            layerName: 'layer_linia_22_26',
            pane: 'pane_linia_22_26',
            onEachFeature: pop_linia_22_26,
            style: style_linia_22_26_0,
        });
        bounds_group.addLayer(layer_linia_22_26);
        // map.addLayer(layer_linia_22_26);
        function pop_linia_23_27(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_23_27_0() {
            return {
                pane: 'pane_linia_23_27',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_23_27');
        map.getPane('pane_linia_23_27').style.zIndex = 427;
        map.getPane('pane_linia_23_27').style['mix-blend-mode'] = 'normal';
        var layer_linia_23_27 = new L.geoJson(json_linia_23_27, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_23_27',
            layerName: 'layer_linia_23_27',
            pane: 'pane_linia_23_27',
            onEachFeature: pop_linia_23_27,
            style: style_linia_23_27_0,
        });
        bounds_group.addLayer(layer_linia_23_27);
        // map.addLayer(layer_linia_23_27);
        function pop_linia_24_28(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_24_28_0() {
            return {
                pane: 'pane_linia_24_28',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_24_28');
        map.getPane('pane_linia_24_28').style.zIndex = 428;
        map.getPane('pane_linia_24_28').style['mix-blend-mode'] = 'normal';
        var layer_linia_24_28 = new L.geoJson(json_linia_24_28, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_24_28',
            layerName: 'layer_linia_24_28',
            pane: 'pane_linia_24_28',
            onEachFeature: pop_linia_24_28,
            style: style_linia_24_28_0,
        });
        bounds_group.addLayer(layer_linia_24_28);
        // map.addLayer(layer_linia_24_28);
        function pop_linia_0_29(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    
	if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
}

        function style_linia_0_29_0() {
            return {
                pane: 'pane_linia_0_29',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_0_29');
        map.getPane('pane_linia_0_29').style.zIndex = 429;
        map.getPane('pane_linia_0_29').style['mix-blend-mode'] = 'normal';
        var layer_linia_0_29 = new L.geoJson(json_linia_0_29, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_0_29',
            layerName: 'layer_linia_0_29',
            pane: 'pane_linia_0_29',
            onEachFeature: pop_linia_0_29,
            style: style_linia_0_29_0,
        });
        bounds_group.addLayer(layer_linia_0_29);
        // map.addLayer(layer_linia_0_29);
        function pop_linia_1_30(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_1_30_0() {
            return {
                pane: 'pane_linia_1_30',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_1_30');
        map.getPane('pane_linia_1_30').style.zIndex = 430;
        map.getPane('pane_linia_1_30').style['mix-blend-mode'] = 'normal';
        var layer_linia_1_30 = new L.geoJson(json_linia_1_30, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_1_30',
            layerName: 'layer_linia_1_30',
            pane: 'pane_linia_1_30',
            onEachFeature: pop_linia_1_30,
            style: style_linia_1_30_0,
        });
        bounds_group.addLayer(layer_linia_1_30);
        // map.addLayer(layer_linia_1_30);
        function pop_linia_2_31(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_2_31_0() {
            return {
                pane: 'pane_linia_2_31',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_2_31');
        map.getPane('pane_linia_2_31').style.zIndex = 431;
        map.getPane('pane_linia_2_31').style['mix-blend-mode'] = 'normal';
        var layer_linia_2_31 = new L.geoJson(json_linia_2_31, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_2_31',
            layerName: 'layer_linia_2_31',
            pane: 'pane_linia_2_31',
            onEachFeature: pop_linia_2_31,
            style: style_linia_2_31_0,
        });
        bounds_group.addLayer(layer_linia_2_31);
        // map.addLayer(layer_linia_2_31);
        function pop_linia_3_32(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_3_32_0() {
            return {
                pane: 'pane_linia_3_32',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_3_32');
        map.getPane('pane_linia_3_32').style.zIndex = 432;
        map.getPane('pane_linia_3_32').style['mix-blend-mode'] = 'normal';
        var layer_linia_3_32 = new L.geoJson(json_linia_3_32, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_3_32',
            layerName: 'layer_linia_3_32',
            pane: 'pane_linia_3_32',
            onEachFeature: pop_linia_3_32,
            style: style_linia_3_32_0,
        });
        bounds_group.addLayer(layer_linia_3_32);
        // map.addLayer(layer_linia_3_32);
        function pop_linia_4_33(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_4_33_0() {
            return {
                pane: 'pane_linia_4_33',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_4_33');
        map.getPane('pane_linia_4_33').style.zIndex = 433;
        map.getPane('pane_linia_4_33').style['mix-blend-mode'] = 'normal';
        var layer_linia_4_33 = new L.geoJson(json_linia_4_33, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_4_33',
            layerName: 'layer_linia_4_33',
            pane: 'pane_linia_4_33',
            onEachFeature: pop_linia_4_33,
            style: style_linia_4_33_0,
        });
        bounds_group.addLayer(layer_linia_4_33);
        // map.addLayer(layer_linia_4_33);
        function pop_linia_5_34(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_5_34_0() {
            return {
                pane: 'pane_linia_5_34',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_5_34');
        map.getPane('pane_linia_5_34').style.zIndex = 434;
        map.getPane('pane_linia_5_34').style['mix-blend-mode'] = 'normal';
        var layer_linia_5_34 = new L.geoJson(json_linia_5_34, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_5_34',
            layerName: 'layer_linia_5_34',
            pane: 'pane_linia_5_34',
            onEachFeature: pop_linia_5_34,
            style: style_linia_5_34_0,
        });
        bounds_group.addLayer(layer_linia_5_34);
        // map.addLayer(layer_linia_5_34);
        function pop_linia_6_35(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_6_35_0() {
            return {
                pane: 'pane_linia_6_35',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_6_35');
        map.getPane('pane_linia_6_35').style.zIndex = 435;
        map.getPane('pane_linia_6_35').style['mix-blend-mode'] = 'normal';
        var layer_linia_6_35 = new L.geoJson(json_linia_6_35, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_6_35',
            layerName: 'layer_linia_6_35',
            pane: 'pane_linia_6_35',
            onEachFeature: pop_linia_6_35,
            style: style_linia_6_35_0,
        });
        bounds_group.addLayer(layer_linia_6_35);
        // map.addLayer(layer_linia_6_35);
        function pop_linia_7_36(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_7_36_0() {
            return {
                pane: 'pane_linia_7_36',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_7_36');
        map.getPane('pane_linia_7_36').style.zIndex = 436;
        map.getPane('pane_linia_7_36').style['mix-blend-mode'] = 'normal';
        var layer_linia_7_36 = new L.geoJson(json_linia_7_36, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_7_36',
            layerName: 'layer_linia_7_36',
            pane: 'pane_linia_7_36',
            onEachFeature: pop_linia_7_36,
            style: style_linia_7_36_0,
        });
        bounds_group.addLayer(layer_linia_7_36);
        // map.addLayer(layer_linia_7_36);
        function pop_linia_8_37(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia tramwajowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td colspan='2'><b>Numer linii:</b> ${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td colspan='2'><b>Nazwa trasy:</b> ${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td colspan='2'><b>Początek trasy:</b> ${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td colspan='2'><b>Koniec trasy:</b> ${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td colspan='2'><b>Operator:</b> ${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td colspan='2'><b>Typ trasy:</b> ${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td colspan='2'><b>Typy pojazdów:</b> ${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td colspan='2'><b>Długość trasy[km]:</b> ${p['Długość']}</td></tr>`;
    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
          📅 Sprawdź rozkład jazdy
        </a>
    </td></tr>`;
	}
	popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_8_37_0() {
            return {
                pane: 'pane_linia_8_37',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_8_37');
        map.getPane('pane_linia_8_37').style.zIndex = 437;
        map.getPane('pane_linia_8_37').style['mix-blend-mode'] = 'normal';
        var layer_linia_8_37 = new L.geoJson(json_linia_8_37, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_8_37',
            layerName: 'layer_linia_8_37',
            pane: 'pane_linia_8_37',
            onEachFeature: pop_linia_8_37,
            style: style_linia_8_37_0,
        });
        bounds_group.addLayer(layer_linia_8_37);
        // map.addLayer(layer_linia_8_37);
        function pop_linia_602_38(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_602_38_0() {
            return {
                pane: 'pane_linia_602_38',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_602_38');
        map.getPane('pane_linia_602_38').style.zIndex = 438;
        map.getPane('pane_linia_602_38').style['mix-blend-mode'] = 'normal';
        var layer_linia_602_38 = new L.geoJson(json_linia_602_38, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_602_38',
            layerName: 'layer_linia_602_38',
            pane: 'pane_linia_602_38',
            onEachFeature: pop_linia_602_38,
            style: style_linia_602_38_0,
        });
        bounds_group.addLayer(layer_linia_602_38);
        // map.addLayer(layer_linia_602_38);
        function pop_linia_607_39(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_607_39_0() {
            return {
                pane: 'pane_linia_607_39',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_607_39');
        map.getPane('pane_linia_607_39').style.zIndex = 439;
        map.getPane('pane_linia_607_39').style['mix-blend-mode'] = 'normal';
        var layer_linia_607_39 = new L.geoJson(json_linia_607_39, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_607_39',
            layerName: 'layer_linia_607_39',
            pane: 'pane_linia_607_39',
            onEachFeature: pop_linia_607_39,
            style: style_linia_607_39_0,
        });
        bounds_group.addLayer(layer_linia_607_39);
        // map.addLayer(layer_linia_607_39);
        function pop_linia_612_40(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_612_40_0() {
            return {
                pane: 'pane_linia_612_40',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_612_40');
        map.getPane('pane_linia_612_40').style.zIndex = 440;
        map.getPane('pane_linia_612_40').style['mix-blend-mode'] = 'normal';
        var layer_linia_612_40 = new L.geoJson(json_linia_612_40, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_612_40',
            layerName: 'layer_linia_612_40',
            pane: 'pane_linia_612_40',
            onEachFeature: pop_linia_612_40,
            style: style_linia_612_40_0,
        });
        bounds_group.addLayer(layer_linia_612_40);
        // map.addLayer(layer_linia_612_40);
        function pop_linia_800_41(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_800_41_0() {
            return {
                pane: 'pane_linia_800_41',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_800_41');
        map.getPane('pane_linia_800_41').style.zIndex = 441;
        map.getPane('pane_linia_800_41').style['mix-blend-mode'] = 'normal';
        var layer_linia_800_41 = new L.geoJson(json_linia_800_41, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_800_41',
            layerName: 'layer_linia_800_41',
            pane: 'pane_linia_800_41',
            onEachFeature: pop_linia_800_41,
            style: style_linia_800_41_0,
        });
        bounds_group.addLayer(layer_linia_800_41);
        // map.addLayer(layer_linia_800_41);
        function pop_linia_810_42(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_810_42_0() {
            return {
                pane: 'pane_linia_810_42',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_810_42');
        map.getPane('pane_linia_810_42').style.zIndex = 442;
        map.getPane('pane_linia_810_42').style['mix-blend-mode'] = 'normal';
        var layer_linia_810_42 = new L.geoJson(json_linia_810_42, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_810_42',
            layerName: 'layer_linia_810_42',
            pane: 'pane_linia_810_42',
            onEachFeature: pop_linia_810_42,
            style: style_linia_810_42_0,
        });
        bounds_group.addLayer(layer_linia_810_42);
        // map.addLayer(layer_linia_810_42);
        function pop_linia_820_43(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_820_43_0() {
            return {
                pane: 'pane_linia_820_43',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_820_43');
        map.getPane('pane_linia_820_43').style.zIndex = 443;
        map.getPane('pane_linia_820_43').style['mix-blend-mode'] = 'normal';
        var layer_linia_820_43 = new L.geoJson(json_linia_820_43, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_820_43',
            layerName: 'layer_linia_820_43',
            pane: 'pane_linia_820_43',
            onEachFeature: pop_linia_820_43,
            style: style_linia_820_43_0,
        });
        bounds_group.addLayer(layer_linia_820_43);
        // map.addLayer(layer_linia_820_43);
        function pop_linia_860_44(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_860_44_0() {
            return {
                pane: 'pane_linia_860_44',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_860_44');
        map.getPane('pane_linia_860_44').style.zIndex = 444;
        map.getPane('pane_linia_860_44').style['mix-blend-mode'] = 'normal';
        var layer_linia_860_44 = new L.geoJson(json_linia_860_44, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_860_44',
            layerName: 'layer_linia_860_44',
            pane: 'pane_linia_860_44',
            onEachFeature: pop_linia_860_44,
            style: style_linia_860_44_0,
        });
        bounds_group.addLayer(layer_linia_860_44);
        // map.addLayer(layer_linia_860_44);
        function pop_linia_870_45(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_870_45_0() {
            return {
                pane: 'pane_linia_870_45',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_870_45');
        map.getPane('pane_linia_870_45').style.zIndex = 445;
        map.getPane('pane_linia_870_45').style['mix-blend-mode'] = 'normal';
        var layer_linia_870_45 = new L.geoJson(json_linia_870_45, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_870_45',
            layerName: 'layer_linia_870_45',
            pane: 'pane_linia_870_45',
            onEachFeature: pop_linia_870_45,
            style: style_linia_870_45_0,
        });
        bounds_group.addLayer(layer_linia_870_45);
        // map.addLayer(layer_linia_870_45);
        function pop_linia_904_46(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_904_46_0() {
            return {
                pane: 'pane_linia_904_46',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_904_46');
        map.getPane('pane_linia_904_46').style.zIndex = 446;
        map.getPane('pane_linia_904_46').style['mix-blend-mode'] = 'normal';
        var layer_linia_904_46 = new L.geoJson(json_linia_904_46, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_904_46',
            layerName: 'layer_linia_904_46',
            pane: 'pane_linia_904_46',
            onEachFeature: pop_linia_904_46,
            style: style_linia_904_46_0,
        });
        bounds_group.addLayer(layer_linia_904_46);
        // map.addLayer(layer_linia_904_46);
        function pop_linia_905_47(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_905_47_0() {
            return {
                pane: 'pane_linia_905_47',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_905_47');
        map.getPane('pane_linia_905_47').style.zIndex = 447;
        map.getPane('pane_linia_905_47').style['mix-blend-mode'] = 'normal';
        var layer_linia_905_47 = new L.geoJson(json_linia_905_47, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_905_47',
            layerName: 'layer_linia_905_47',
            pane: 'pane_linia_905_47',
            onEachFeature: pop_linia_905_47,
            style: style_linia_905_47_0,
        });
        bounds_group.addLayer(layer_linia_905_47);
        // map.addLayer(layer_linia_905_47);
        function pop_linia_908_48(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_908_48_0() {
            return {
                pane: 'pane_linia_908_48',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_908_48');
        map.getPane('pane_linia_908_48').style.zIndex = 448;
        map.getPane('pane_linia_908_48').style['mix-blend-mode'] = 'normal';
        var layer_linia_908_48 = new L.geoJson(json_linia_908_48, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_908_48',
            layerName: 'layer_linia_908_48',
            pane: 'pane_linia_908_48',
            onEachFeature: pop_linia_908_48,
            style: style_linia_908_48_0,
        });
        bounds_group.addLayer(layer_linia_908_48);
        // map.addLayer(layer_linia_908_48);
        function pop_linia_911_49(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_911_49_0() {
            return {
                pane: 'pane_linia_911_49',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_911_49');
        map.getPane('pane_linia_911_49').style.zIndex = 449;
        map.getPane('pane_linia_911_49').style['mix-blend-mode'] = 'normal';
        var layer_linia_911_49 = new L.geoJson(json_linia_911_49, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_911_49',
            layerName: 'layer_linia_911_49',
            pane: 'pane_linia_911_49',
            onEachFeature: pop_linia_911_49,
            style: style_linia_911_49_0,
        });
        bounds_group.addLayer(layer_linia_911_49);
        //map.addLayer(layer_linia_911_49);
        function pop_linia_914_50(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_914_50_0() {
            return {
                pane: 'pane_linia_914_50',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_914_50');
        map.getPane('pane_linia_914_50').style.zIndex = 450;
        map.getPane('pane_linia_914_50').style['mix-blend-mode'] = 'normal';
        var layer_linia_914_50 = new L.geoJson(json_linia_914_50, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_914_50',
            layerName: 'layer_linia_914_50',
            pane: 'pane_linia_914_50',
            onEachFeature: pop_linia_914_50,
            style: style_linia_914_50_0,
        });
        bounds_group.addLayer(layer_linia_914_50);
        // map.addLayer(layer_linia_914_50);
        function pop_linia_920_51(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_920_51_0() {
            return {
                pane: 'pane_linia_920_51',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_920_51');
        map.getPane('pane_linia_920_51').style.zIndex = 451;
        map.getPane('pane_linia_920_51').style['mix-blend-mode'] = 'normal';
        var layer_linia_920_51 = new L.geoJson(json_linia_920_51, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_920_51',
            layerName: 'layer_linia_920_51',
            pane: 'pane_linia_920_51',
            onEachFeature: pop_linia_920_51,
            style: style_linia_920_51_0,
        });
        bounds_group.addLayer(layer_linia_920_51);
        // map.addLayer(layer_linia_920_51);
        function pop_linia_921_52(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_921_52_0() {
            return {
                pane: 'pane_linia_921_52',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_921_52');
        map.getPane('pane_linia_921_52').style.zIndex = 452;
        map.getPane('pane_linia_921_52').style['mix-blend-mode'] = 'normal';
        var layer_linia_921_52 = new L.geoJson(json_linia_921_52, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_921_52',
            layerName: 'layer_linia_921_52',
            pane: 'pane_linia_921_52',
            onEachFeature: pop_linia_921_52,
            style: style_linia_921_52_0,
        });
        bounds_group.addLayer(layer_linia_921_52);
        // map.addLayer(layer_linia_921_52);
        function pop_linia_924_53(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_924_53_0() {
            return {
                pane: 'pane_linia_924_53',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_924_53');
        map.getPane('pane_linia_924_53').style.zIndex = 453;
        map.getPane('pane_linia_924_53').style['mix-blend-mode'] = 'normal';
        var layer_linia_924_53 = new L.geoJson(json_linia_924_53, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_924_53',
            layerName: 'layer_linia_924_53',
            pane: 'pane_linia_924_53',
            onEachFeature: pop_linia_924_53,
            style: style_linia_924_53_0,
        });
        bounds_group.addLayer(layer_linia_924_53);
        // map.addLayer(layer_linia_924_53);
        function pop_linia_930_54(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_930_54_0() {
            return {
                pane: 'pane_linia_930_54',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_930_54');
        map.getPane('pane_linia_930_54').style.zIndex = 454;
        map.getPane('pane_linia_930_54').style['mix-blend-mode'] = 'normal';
        var layer_linia_930_54 = new L.geoJson(json_linia_930_54, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_930_54',
            layerName: 'layer_linia_930_54',
            pane: 'pane_linia_930_54',
            onEachFeature: pop_linia_930_54,
            style: style_linia_930_54_0,
        });
        bounds_group.addLayer(layer_linia_930_54);
        // map.addLayer(layer_linia_930_54);
        function pop_linia_931_55(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_931_55_0() {
            return {
                pane: 'pane_linia_931_55',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_931_55');
        map.getPane('pane_linia_931_55').style.zIndex = 455;
        map.getPane('pane_linia_931_55').style['mix-blend-mode'] = 'normal';
        var layer_linia_931_55 = new L.geoJson(json_linia_931_55, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_931_55',
            layerName: 'layer_linia_931_55',
            pane: 'pane_linia_931_55',
            onEachFeature: pop_linia_931_55,
            style: style_linia_931_55_0,
        });
        bounds_group.addLayer(layer_linia_931_55);
        // map.addLayer(layer_linia_931_55);
        function pop_linia_933_56(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
	
}

        function style_linia_933_56_0() {
            return {
                pane: 'pane_linia_933_56',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_933_56');
        map.getPane('pane_linia_933_56').style.zIndex = 456;
        map.getPane('pane_linia_933_56').style['mix-blend-mode'] = 'normal';
        var layer_linia_933_56 = new L.geoJson(json_linia_933_56, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_933_56',
            layerName: 'layer_linia_933_56',
            pane: 'pane_linia_933_56',
            onEachFeature: pop_linia_933_56,
            style: style_linia_933_56_0,
        });
        bounds_group.addLayer(layer_linia_933_56);
        // map.addLayer(layer_linia_933_56);
        function pop_linia_934_57(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_934_57_0() {
            return {
                pane: 'pane_linia_934_57',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_934_57');
        map.getPane('pane_linia_934_57').style.zIndex = 457;
        map.getPane('pane_linia_934_57').style['mix-blend-mode'] = 'normal';
        var layer_linia_934_57 = new L.geoJson(json_linia_934_57, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_934_57',
            layerName: 'layer_linia_934_57',
            pane: 'pane_linia_934_57',
            onEachFeature: pop_linia_934_57,
            style: style_linia_934_57_0,
        });
        bounds_group.addLayer(layer_linia_934_57);
        // map.addLayer(layer_linia_934_57);
        function pop_linia_936_58(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_936_58_0() {
            return {
                pane: 'pane_linia_936_58',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_936_58');
        map.getPane('pane_linia_936_58').style.zIndex = 458;
        map.getPane('pane_linia_936_58').style['mix-blend-mode'] = 'normal';
        var layer_linia_936_58 = new L.geoJson(json_linia_936_58, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_936_58',
            layerName: 'layer_linia_936_58',
            pane: 'pane_linia_936_58',
            onEachFeature: pop_linia_936_58,
            style: style_linia_936_58_0,
        });
        bounds_group.addLayer(layer_linia_936_58);
        // map.addLayer(layer_linia_936_58);
        function pop_linia_A_59(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '').toUpperCase();

    const linkiSpecjalne = {
        'A': 'https://www.wroclaw.pl/komunikacja/linia-a-wroclaw',
        'D': 'https://www.wroclaw.pl/komunikacja/linia-d-wroclaw',
        'K': 'https://www.wroclaw.pl/komunikacja/linia-k-wroclaw',
        'N': 'https://www.wroclaw.pl/komunikacja/linia-n-wroclaw'
    };

    const link = linkiSpecjalne[numer] || `https://www.wroclaw.pl/komunikacja/linia-${numer.toLowerCase()}-wroclaw`;

    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="${link}" target="_blank" style="text-decoration:none; font-weight:bold;">
            📅 Sprawdź rozkład jazdy
        </a></td></tr>`;
}

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_A_59_0() {
            return {
                pane: 'pane_linia_A_59',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_A_59');
        map.getPane('pane_linia_A_59').style.zIndex = 459;
        map.getPane('pane_linia_A_59').style['mix-blend-mode'] = 'normal';
        var layer_linia_A_59 = new L.geoJson(json_linia_A_59, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_A_59',
            layerName: 'layer_linia_A_59',
            pane: 'pane_linia_A_59',
            onEachFeature: pop_linia_A_59,
            style: style_linia_A_59_0,
        });
        bounds_group.addLayer(layer_linia_A_59);
        // map.addLayer(layer_linia_A_59);
        function pop_linia_D_60(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '').toUpperCase();

    const linkiSpecjalne = {
        'A': 'https://www.wroclaw.pl/komunikacja/linia-a-wroclaw',
        'D': 'https://www.wroclaw.pl/komunikacja/linia-d-wroclaw',
        'K': 'https://www.wroclaw.pl/komunikacja/linia-k-wroclaw',
        'N': 'https://www.wroclaw.pl/komunikacja/linia-n-wroclaw'
    };

    const link = linkiSpecjalne[numer] || `https://www.wroclaw.pl/komunikacja/linia-${numer.toLowerCase()}-wroclaw`;

    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="${link}" target="_blank" style="text-decoration:none; font-weight:bold;">
            📅 Sprawdź rozkład jazdy
        </a></td></tr>`;
}

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_D_60_0() {
            return {
                pane: 'pane_linia_D_60',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_D_60');
        map.getPane('pane_linia_D_60').style.zIndex = 460;
        map.getPane('pane_linia_D_60').style['mix-blend-mode'] = 'normal';
        var layer_linia_D_60 = new L.geoJson(json_linia_D_60, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_D_60',
            layerName: 'layer_linia_D_60',
            pane: 'pane_linia_D_60',
            onEachFeature: pop_linia_D_60,
            style: style_linia_D_60_0,
        });
        bounds_group.addLayer(layer_linia_D_60);
        // map.addLayer(layer_linia_D_60);
        function pop_linia_K_61(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '').toUpperCase();

    const linkiSpecjalne = {
        'A': 'https://www.wroclaw.pl/komunikacja/linia-a-wroclaw',
        'D': 'https://www.wroclaw.pl/komunikacja/linia-d-wroclaw',
        'K': 'https://www.wroclaw.pl/komunikacja/linia-k-wroclaw',
        'N': 'https://www.wroclaw.pl/komunikacja/linia-n-wroclaw'
    };

    const link = linkiSpecjalne[numer] || `https://www.wroclaw.pl/komunikacja/linia-${numer.toLowerCase()}-wroclaw`;

    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="${link}" target="_blank" style="text-decoration:none; font-weight:bold;">
            📅 Sprawdź rozkład jazdy
        </a></td></tr>`;
}

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_K_61_0() {
            return {
                pane: 'pane_linia_K_61',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_K_61');
        map.getPane('pane_linia_K_61').style.zIndex = 461;
        map.getPane('pane_linia_K_61').style['mix-blend-mode'] = 'normal';
        var layer_linia_K_61 = new L.geoJson(json_linia_K_61, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_K_61',
            layerName: 'layer_linia_K_61',
            pane: 'pane_linia_K_61',
            onEachFeature: pop_linia_K_61,
            style: style_linia_K_61_0,
        });
        bounds_group.addLayer(layer_linia_K_61);
        // map.addLayer(layer_linia_K_61);
        function pop_linia_N_62(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
    const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '').toUpperCase();

    const linkiSpecjalne = {
        'A': 'https://www.wroclaw.pl/komunikacja/linia-a-wroclaw',
        'D': 'https://www.wroclaw.pl/komunikacja/linia-d-wroclaw',
        'K': 'https://www.wroclaw.pl/komunikacja/linia-k-wroclaw',
        'N': 'https://www.wroclaw.pl/komunikacja/linia-n-wroclaw'
    };

    const link = linkiSpecjalne[numer] || `https://www.wroclaw.pl/komunikacja/linia-${numer.toLowerCase()}-wroclaw`;

    popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
        <a href="${link}" target="_blank" style="text-decoration:none; font-weight:bold;">
            📅 Sprawdź rozkład jazdy
        </a></td></tr>`;
}

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_N_62_0() {
            return {
                pane: 'pane_linia_N_62',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_N_62');
        map.getPane('pane_linia_N_62').style.zIndex = 462;
        map.getPane('pane_linia_N_62').style['mix-blend-mode'] = 'normal';
        var layer_linia_N_62 = new L.geoJson(json_linia_N_62, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_N_62',
            layerName: 'layer_linia_N_62',
            pane: 'pane_linia_N_62',
            onEachFeature: pop_linia_N_62,
            style: style_linia_N_62_0,
        });
        bounds_group.addLayer(layer_linia_N_62);
        // map.addLayer(layer_linia_N_62);
        function pop_linia_100_63(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_100_63_0() {
            return {
                pane: 'pane_linia_100_63',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_100_63');
        map.getPane('pane_linia_100_63').style.zIndex = 463;
        map.getPane('pane_linia_100_63').style['mix-blend-mode'] = 'normal';
        var layer_linia_100_63 = new L.geoJson(json_linia_100_63, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_100_63',
            layerName: 'layer_linia_100_63',
            pane: 'pane_linia_100_63',
            onEachFeature: pop_linia_100_63,
            style: style_linia_100_63_0,
        });
        bounds_group.addLayer(layer_linia_100_63);
        // map.addLayer(layer_linia_100_63);
        function pop_linia_101_64(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_101_64_0() {
            return {
                pane: 'pane_linia_101_64',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_101_64');
        map.getPane('pane_linia_101_64').style.zIndex = 464;
        map.getPane('pane_linia_101_64').style['mix-blend-mode'] = 'normal';
        var layer_linia_101_64 = new L.geoJson(json_linia_101_64, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_101_64',
            layerName: 'layer_linia_101_64',
            pane: 'pane_linia_101_64',
            onEachFeature: pop_linia_101_64,
            style: style_linia_101_64_0,
        });
        bounds_group.addLayer(layer_linia_101_64);
        // map.addLayer(layer_linia_101_64);
        function pop_linia_102_65(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
        highlightOnClick(e.target);
    });
}

        function style_linia_102_65_0() {
            return {
                pane: 'pane_linia_102_65',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_102_65');
        map.getPane('pane_linia_102_65').style.zIndex = 465;
        map.getPane('pane_linia_102_65').style['mix-blend-mode'] = 'normal';
        var layer_linia_102_65 = new L.geoJson(json_linia_102_65, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_102_65',
            layerName: 'layer_linia_102_65',
            pane: 'pane_linia_102_65',
            onEachFeature: pop_linia_102_65,
            style: style_linia_102_65_0,
        });
        bounds_group.addLayer(layer_linia_102_65);
        // map.addLayer(layer_linia_102_65);
        function pop_linia_103_66(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
}

        function style_linia_103_66_0() {
            return {
                pane: 'pane_linia_103_66',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_103_66');
        map.getPane('pane_linia_103_66').style.zIndex = 466;
        map.getPane('pane_linia_103_66').style['mix-blend-mode'] = 'normal';
        var layer_linia_103_66 = new L.geoJson(json_linia_103_66, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_103_66',
            layerName: 'layer_linia_103_66',
            pane: 'pane_linia_103_66',
            onEachFeature: pop_linia_103_66,
            style: style_linia_103_66_0,
        });
        bounds_group.addLayer(layer_linia_103_66);
        // map.addLayer(layer_linia_103_66);
        function pop_linia_104_67(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	
	layer.on('click', function (e) {
    highlightOnClick(e.target);
	});
}

        function style_linia_104_67_0() {
            return {
                pane: 'pane_linia_104_67',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_104_67');
        map.getPane('pane_linia_104_67').style.zIndex = 467;
        map.getPane('pane_linia_104_67').style['mix-blend-mode'] = 'normal';
        var layer_linia_104_67 = new L.geoJson(json_linia_104_67, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_104_67',
            layerName: 'layer_linia_104_67',
            pane: 'pane_linia_104_67',
            onEachFeature: pop_linia_104_67,
            style: style_linia_104_67_0,
        });
        bounds_group.addLayer(layer_linia_104_67);
        // map.addLayer(layer_linia_104_67);
        function pop_linia_105_68(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_105_68_0() {
            return {
                pane: 'pane_linia_105_68',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_105_68');
        map.getPane('pane_linia_105_68').style.zIndex = 468;
        map.getPane('pane_linia_105_68').style['mix-blend-mode'] = 'normal';
        var layer_linia_105_68 = new L.geoJson(json_linia_105_68, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_105_68',
            layerName: 'layer_linia_105_68',
            pane: 'pane_linia_105_68',
            onEachFeature: pop_linia_105_68,
            style: style_linia_105_68_0,
        });
        bounds_group.addLayer(layer_linia_105_68);
        // map.addLayer(layer_linia_105_68);
        function pop_linia_106_69(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_106_69_0() {
            return {
                pane: 'pane_linia_106_69',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_106_69');
        map.getPane('pane_linia_106_69').style.zIndex = 469;
        map.getPane('pane_linia_106_69').style['mix-blend-mode'] = 'normal';
        var layer_linia_106_69 = new L.geoJson(json_linia_106_69, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_106_69',
            layerName: 'layer_linia_106_69',
            pane: 'pane_linia_106_69',
            onEachFeature: pop_linia_106_69,
            style: style_linia_106_69_0,
        });
        bounds_group.addLayer(layer_linia_106_69);
        // map.addLayer(layer_linia_106_69);
        function pop_linia_107_70(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_107_70_0() {
            return {
                pane: 'pane_linia_107_70',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_107_70');
        map.getPane('pane_linia_107_70').style.zIndex = 470;
        map.getPane('pane_linia_107_70').style['mix-blend-mode'] = 'normal';
        var layer_linia_107_70 = new L.geoJson(json_linia_107_70, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_107_70',
            layerName: 'layer_linia_107_70',
            pane: 'pane_linia_107_70',
            onEachFeature: pop_linia_107_70,
            style: style_linia_107_70_0,
        });
        bounds_group.addLayer(layer_linia_107_70);
        // map.addLayer(layer_linia_107_70);
        function pop_linia_108_71(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_108_71_0() {
            return {
                pane: 'pane_linia_108_71',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_108_71');
        map.getPane('pane_linia_108_71').style.zIndex = 471;
        map.getPane('pane_linia_108_71').style['mix-blend-mode'] = 'normal';
        var layer_linia_108_71 = new L.geoJson(json_linia_108_71, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_108_71',
            layerName: 'layer_linia_108_71',
            pane: 'pane_linia_108_71',
            onEachFeature: pop_linia_108_71,
            style: style_linia_108_71_0,
        });
        bounds_group.addLayer(layer_linia_108_71);
        // map.addLayer(layer_linia_108_71);
        function pop_linia_110_72(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_110_72_0() {
            return {
                pane: 'pane_linia_110_72',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_110_72');
        map.getPane('pane_linia_110_72').style.zIndex = 472;
        map.getPane('pane_linia_110_72').style['mix-blend-mode'] = 'normal';
        var layer_linia_110_72 = new L.geoJson(json_linia_110_72, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_110_72',
            layerName: 'layer_linia_110_72',
            pane: 'pane_linia_110_72',
            onEachFeature: pop_linia_110_72,
            style: style_linia_110_72_0,
        });
        bounds_group.addLayer(layer_linia_110_72);
        // map.addLayer(layer_linia_110_72);
        function pop_linia_111_73(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_111_73_0() {
            return {
                pane: 'pane_linia_111_73',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_111_73');
        map.getPane('pane_linia_111_73').style.zIndex = 473;
        map.getPane('pane_linia_111_73').style['mix-blend-mode'] = 'normal';
        var layer_linia_111_73 = new L.geoJson(json_linia_111_73, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_111_73',
            layerName: 'layer_linia_111_73',
            pane: 'pane_linia_111_73',
            onEachFeature: pop_linia_111_73,
            style: style_linia_111_73_0,
        });
        bounds_group.addLayer(layer_linia_111_73);
        // map.addLayer(layer_linia_111_73);
        function pop_linia_112_74(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_112_74_0() {
            return {
                pane: 'pane_linia_112_74',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_112_74');
        map.getPane('pane_linia_112_74').style.zIndex = 474;
        map.getPane('pane_linia_112_74').style['mix-blend-mode'] = 'normal';
        var layer_linia_112_74 = new L.geoJson(json_linia_112_74, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_112_74',
            layerName: 'layer_linia_112_74',
            pane: 'pane_linia_112_74',
            onEachFeature: pop_linia_112_74,
            style: style_linia_112_74_0,
        });
        bounds_group.addLayer(layer_linia_112_74);
        // map.addLayer(layer_linia_112_74);
        function pop_linia_113_75(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_113_75_0() {
            return {
                pane: 'pane_linia_113_75',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_113_75');
        map.getPane('pane_linia_113_75').style.zIndex = 475;
        map.getPane('pane_linia_113_75').style['mix-blend-mode'] = 'normal';
        var layer_linia_113_75 = new L.geoJson(json_linia_113_75, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_113_75',
            layerName: 'layer_linia_113_75',
            pane: 'pane_linia_113_75',
            onEachFeature: pop_linia_113_75,
            style: style_linia_113_75_0,
        });
        bounds_group.addLayer(layer_linia_113_75);
        // map.addLayer(layer_linia_113_75);
        function pop_linia_114_76(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_114_76_0() {
            return {
                pane: 'pane_linia_114_76',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_114_76');
        map.getPane('pane_linia_114_76').style.zIndex = 476;
        map.getPane('pane_linia_114_76').style['mix-blend-mode'] = 'normal';
        var layer_linia_114_76 = new L.geoJson(json_linia_114_76, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_114_76',
            layerName: 'layer_linia_114_76',
            pane: 'pane_linia_114_76',
            onEachFeature: pop_linia_114_76,
            style: style_linia_114_76_0,
        });
        bounds_group.addLayer(layer_linia_114_76);
        // map.addLayer(layer_linia_114_76);
        function pop_linia_115_77(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_115_77_0() {
            return {
                pane: 'pane_linia_115_77',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_115_77');
        map.getPane('pane_linia_115_77').style.zIndex = 477;
        map.getPane('pane_linia_115_77').style['mix-blend-mode'] = 'normal';
        var layer_linia_115_77 = new L.geoJson(json_linia_115_77, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_115_77',
            layerName: 'layer_linia_115_77',
            pane: 'pane_linia_115_77',
            onEachFeature: pop_linia_115_77,
            style: style_linia_115_77_0,
        });
        bounds_group.addLayer(layer_linia_115_77);
        // map.addLayer(layer_linia_115_77);
        function pop_linia_116_78(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_116_78_0() {
            return {
                pane: 'pane_linia_116_78',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_116_78');
        map.getPane('pane_linia_116_78').style.zIndex = 478;
        map.getPane('pane_linia_116_78').style['mix-blend-mode'] = 'normal';
        var layer_linia_116_78 = new L.geoJson(json_linia_116_78, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_116_78',
            layerName: 'layer_linia_116_78',
            pane: 'pane_linia_116_78',
            onEachFeature: pop_linia_116_78,
            style: style_linia_116_78_0,
        });
        bounds_group.addLayer(layer_linia_116_78);
        // map.addLayer(layer_linia_116_78);
        function pop_linia_118_79(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_118_79_0() {
            return {
                pane: 'pane_linia_118_79',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_118_79');
        map.getPane('pane_linia_118_79').style.zIndex = 479;
        map.getPane('pane_linia_118_79').style['mix-blend-mode'] = 'normal';
        var layer_linia_118_79 = new L.geoJson(json_linia_118_79, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_118_79',
            layerName: 'layer_linia_118_79',
            pane: 'pane_linia_118_79',
            onEachFeature: pop_linia_118_79,
            style: style_linia_118_79_0,
        });
        bounds_group.addLayer(layer_linia_118_79);
        // map.addLayer(layer_linia_118_79);
        function pop_linia_119_80(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_119_80_0() {
            return {
                pane: 'pane_linia_119_80',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_119_80');
        map.getPane('pane_linia_119_80').style.zIndex = 480;
        map.getPane('pane_linia_119_80').style['mix-blend-mode'] = 'normal';
        var layer_linia_119_80 = new L.geoJson(json_linia_119_80, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_119_80',
            layerName: 'layer_linia_119_80',
            pane: 'pane_linia_119_80',
            onEachFeature: pop_linia_119_80,
            style: style_linia_119_80_0,
        });
        bounds_group.addLayer(layer_linia_119_80);
        // addLayer(layer_linia_119_80);
        function pop_linia_120_81(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_120_81_0() {
            return {
                pane: 'pane_linia_120_81',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_120_81');
        map.getPane('pane_linia_120_81').style.zIndex = 481;
        map.getPane('pane_linia_120_81').style['mix-blend-mode'] = 'normal';
        var layer_linia_120_81 = new L.geoJson(json_linia_120_81, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_120_81',
            layerName: 'layer_linia_120_81',
            pane: 'pane_linia_120_81',
            onEachFeature: pop_linia_120_81,
            style: style_linia_120_81_0,
        });
        bounds_group.addLayer(layer_linia_120_81);
        // map.addLayer(layer_linia_120_81);
        function pop_linia_121_82(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_121_82_0() {
            return {
                pane: 'pane_linia_121_82',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_121_82');
        map.getPane('pane_linia_121_82').style.zIndex = 482;
        map.getPane('pane_linia_121_82').style['mix-blend-mode'] = 'normal';
        var layer_linia_121_82 = new L.geoJson(json_linia_121_82, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_121_82',
            layerName: 'layer_linia_121_82',
            pane: 'pane_linia_121_82',
            onEachFeature: pop_linia_121_82,
            style: style_linia_121_82_0,
        });
        bounds_group.addLayer(layer_linia_121_82);
        // map.addLayer(layer_linia_121_82);
        function pop_linia_122_83(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_122_83_0() {
            return {
                pane: 'pane_linia_122_83',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_122_83');
        map.getPane('pane_linia_122_83').style.zIndex = 483;
        map.getPane('pane_linia_122_83').style['mix-blend-mode'] = 'normal';
        var layer_linia_122_83 = new L.geoJson(json_linia_122_83, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_122_83',
            layerName: 'layer_linia_122_83',
            pane: 'pane_linia_122_83',
            onEachFeature: pop_linia_122_83,
            style: style_linia_122_83_0,
        });
        bounds_group.addLayer(layer_linia_122_83);
        // map.addLayer(layer_linia_122_83);
        function pop_linia_124_84(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_124_84_0() {
            return {
                pane: 'pane_linia_124_84',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_124_84');
        map.getPane('pane_linia_124_84').style.zIndex = 484;
        map.getPane('pane_linia_124_84').style['mix-blend-mode'] = 'normal';
        var layer_linia_124_84 = new L.geoJson(json_linia_124_84, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_124_84',
            layerName: 'layer_linia_124_84',
            pane: 'pane_linia_124_84',
            onEachFeature: pop_linia_124_84,
            style: style_linia_124_84_0,
        });
        bounds_group.addLayer(layer_linia_124_84);
        // map.addLayer(layer_linia_124_84);
        function pop_linia_125_85(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_125_85_0() {
            return {
                pane: 'pane_linia_125_85',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_125_85');
        map.getPane('pane_linia_125_85').style.zIndex = 485;
        map.getPane('pane_linia_125_85').style['mix-blend-mode'] = 'normal';
        var layer_linia_125_85 = new L.geoJson(json_linia_125_85, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_125_85',
            layerName: 'layer_linia_125_85',
            pane: 'pane_linia_125_85',
            onEachFeature: pop_linia_125_85,
            style: style_linia_125_85_0,
        });
        bounds_group.addLayer(layer_linia_125_85);
        // map.addLayer(layer_linia_125_85);
        function pop_linia_126_86(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_126_86_0() {
            return {
                pane: 'pane_linia_126_86',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_126_86');
        map.getPane('pane_linia_126_86').style.zIndex = 486;
        map.getPane('pane_linia_126_86').style['mix-blend-mode'] = 'normal';
        var layer_linia_126_86 = new L.geoJson(json_linia_126_86, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_126_86',
            layerName: 'layer_linia_126_86',
            pane: 'pane_linia_126_86',
            onEachFeature: pop_linia_126_86,
            style: style_linia_126_86_0,
        });
        bounds_group.addLayer(layer_linia_126_86);
        // map.addLayer(layer_linia_126_86);
        function pop_linia_127_87(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_127_87_0() {
            return {
                pane: 'pane_linia_127_87',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_127_87');
        map.getPane('pane_linia_127_87').style.zIndex = 487;
        map.getPane('pane_linia_127_87').style['mix-blend-mode'] = 'normal';
        var layer_linia_127_87 = new L.geoJson(json_linia_127_87, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_127_87',
            layerName: 'layer_linia_127_87',
            pane: 'pane_linia_127_87',
            onEachFeature: pop_linia_127_87,
            style: style_linia_127_87_0,
        });
        bounds_group.addLayer(layer_linia_127_87);
        // map.addLayer(layer_linia_127_87);
        function pop_linia_128_88(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_128_88_0() {
            return {
                pane: 'pane_linia_128_88',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_128_88');
        map.getPane('pane_linia_128_88').style.zIndex = 488;
        map.getPane('pane_linia_128_88').style['mix-blend-mode'] = 'normal';
        var layer_linia_128_88 = new L.geoJson(json_linia_128_88, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_128_88',
            layerName: 'layer_linia_128_88',
            pane: 'pane_linia_128_88',
            onEachFeature: pop_linia_128_88,
            style: style_linia_128_88_0,
        });
        bounds_group.addLayer(layer_linia_128_88);
        // map.addLayer(layer_linia_128_88);
        function pop_linia_129_89(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_129_89_0() {
            return {
                pane: 'pane_linia_129_89',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_129_89');
        map.getPane('pane_linia_129_89').style.zIndex = 489;
        map.getPane('pane_linia_129_89').style['mix-blend-mode'] = 'normal';
        var layer_linia_129_89 = new L.geoJson(json_linia_129_89, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_129_89',
            layerName: 'layer_linia_129_89',
            pane: 'pane_linia_129_89',
            onEachFeature: pop_linia_129_89,
            style: style_linia_129_89_0,
        });
        bounds_group.addLayer(layer_linia_129_89);
        // map.addLayer(layer_linia_129_89);
        function pop_linia_130_90(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_130_90_0() {
            return {
                pane: 'pane_linia_130_90',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_130_90');
        map.getPane('pane_linia_130_90').style.zIndex = 490;
        map.getPane('pane_linia_130_90').style['mix-blend-mode'] = 'normal';
        var layer_linia_130_90 = new L.geoJson(json_linia_130_90, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_130_90',
            layerName: 'layer_linia_130_90',
            pane: 'pane_linia_130_90',
            onEachFeature: pop_linia_130_90,
            style: style_linia_130_90_0,
        });
        bounds_group.addLayer(layer_linia_130_90);
        // map.addLayer(layer_linia_130_90);
        function pop_linia_131_91(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_131_91_0() {
            return {
                pane: 'pane_linia_131_91',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_131_91');
        map.getPane('pane_linia_131_91').style.zIndex = 491;
        map.getPane('pane_linia_131_91').style['mix-blend-mode'] = 'normal';
        var layer_linia_131_91 = new L.geoJson(json_linia_131_91, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_131_91',
            layerName: 'layer_linia_131_91',
            pane: 'pane_linia_131_91',
            onEachFeature: pop_linia_131_91,
            style: style_linia_131_91_0,
        });
        bounds_group.addLayer(layer_linia_131_91);
        // map.addLayer(layer_linia_131_91);
        function pop_linia_132_92(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_132_92_0() {
            return {
                pane: 'pane_linia_132_92',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_132_92');
        map.getPane('pane_linia_132_92').style.zIndex = 492;
        map.getPane('pane_linia_132_92').style['mix-blend-mode'] = 'normal';
        var layer_linia_132_92 = new L.geoJson(json_linia_132_92, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_132_92',
            layerName: 'layer_linia_132_92',
            pane: 'pane_linia_132_92',
            onEachFeature: pop_linia_132_92,
            style: style_linia_132_92_0,
        });
        bounds_group.addLayer(layer_linia_132_92);
        // map.addLayer(layer_linia_132_92);
        function pop_linia_133_93(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_133_93_0() {
            return {
                pane: 'pane_linia_133_93',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_133_93');
        map.getPane('pane_linia_133_93').style.zIndex = 493;
        map.getPane('pane_linia_133_93').style['mix-blend-mode'] = 'normal';
        var layer_linia_133_93 = new L.geoJson(json_linia_133_93, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_133_93',
            layerName: 'layer_linia_133_93',
            pane: 'pane_linia_133_93',
            onEachFeature: pop_linia_133_93,
            style: style_linia_133_93_0,
        });
        bounds_group.addLayer(layer_linia_133_93);
        // map.addLayer(layer_linia_133_93);
        function pop_linia_134_94(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_134_94_0() {
            return {
                pane: 'pane_linia_134_94',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_134_94');
        map.getPane('pane_linia_134_94').style.zIndex = 494;
        map.getPane('pane_linia_134_94').style['mix-blend-mode'] = 'normal';
        var layer_linia_134_94 = new L.geoJson(json_linia_134_94, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_134_94',
            layerName: 'layer_linia_134_94',
            pane: 'pane_linia_134_94',
            onEachFeature: pop_linia_134_94,
            style: style_linia_134_94_0,
        });
        bounds_group.addLayer(layer_linia_134_94);
        // map.addLayer(layer_linia_134_94);
        function pop_linia_136_95(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_136_95_0() {
            return {
                pane: 'pane_linia_136_95',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_136_95');
        map.getPane('pane_linia_136_95').style.zIndex = 495;
        map.getPane('pane_linia_136_95').style['mix-blend-mode'] = 'normal';
        var layer_linia_136_95 = new L.geoJson(json_linia_136_95, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_136_95',
            layerName: 'layer_linia_136_95',
            pane: 'pane_linia_136_95',
            onEachFeature: pop_linia_136_95,
            style: style_linia_136_95_0,
        });
        bounds_group.addLayer(layer_linia_136_95);
        // map.addLayer(layer_linia_136_95);
        function pop_linia_142_96(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_142_96_0() {
            return {
                pane: 'pane_linia_142_96',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_142_96');
        map.getPane('pane_linia_142_96').style.zIndex = 496;
        map.getPane('pane_linia_142_96').style['mix-blend-mode'] = 'normal';
        var layer_linia_142_96 = new L.geoJson(json_linia_142_96, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_142_96',
            layerName: 'layer_linia_142_96',
            pane: 'pane_linia_142_96',
            onEachFeature: pop_linia_142_96,
            style: style_linia_142_96_0,
        });
        bounds_group.addLayer(layer_linia_142_96);
        // map.addLayer(layer_linia_142_96);
        function pop_linia_143_97(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_143_97_0() {
            return {
                pane: 'pane_linia_143_97',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_143_97');
        map.getPane('pane_linia_143_97').style.zIndex = 497;
        map.getPane('pane_linia_143_97').style['mix-blend-mode'] = 'normal';
        var layer_linia_143_97 = new L.geoJson(json_linia_143_97, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_143_97',
            layerName: 'layer_linia_143_97',
            pane: 'pane_linia_143_97',
            onEachFeature: pop_linia_143_97,
            style: style_linia_143_97_0,
        });
        bounds_group.addLayer(layer_linia_143_97);
        // map.addLayer(layer_linia_143_97);
        function pop_linia_144_98(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_144_98_0() {
            return {
                pane: 'pane_linia_144_98',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_144_98');
        map.getPane('pane_linia_144_98').style.zIndex = 498;
        map.getPane('pane_linia_144_98').style['mix-blend-mode'] = 'normal';
        var layer_linia_144_98 = new L.geoJson(json_linia_144_98, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_144_98',
            layerName: 'layer_linia_144_98',
            pane: 'pane_linia_144_98',
            onEachFeature: pop_linia_144_98,
            style: style_linia_144_98_0,
        });
        bounds_group.addLayer(layer_linia_144_98);
        // map.addLayer(layer_linia_144_98);
        function pop_linia_145_99(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_145_99_0() {
            return {
                pane: 'pane_linia_145_99',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_145_99');
        map.getPane('pane_linia_145_99').style.zIndex = 499;
        map.getPane('pane_linia_145_99').style['mix-blend-mode'] = 'normal';
        var layer_linia_145_99 = new L.geoJson(json_linia_145_99, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_145_99',
            layerName: 'layer_linia_145_99',
            pane: 'pane_linia_145_99',
            onEachFeature: pop_linia_145_99,
            style: style_linia_145_99_0,
        });
        bounds_group.addLayer(layer_linia_145_99);
        // map.addLayer(layer_linia_145_99);
        function pop_linia_146_100(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_146_100_0() {
            return {
                pane: 'pane_linia_146_100',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_146_100');
        map.getPane('pane_linia_146_100').style.zIndex = 500;
        map.getPane('pane_linia_146_100').style['mix-blend-mode'] = 'normal';
        var layer_linia_146_100 = new L.geoJson(json_linia_146_100, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_146_100',
            layerName: 'layer_linia_146_100',
            pane: 'pane_linia_146_100',
            onEachFeature: pop_linia_146_100,
            style: style_linia_146_100_0,
        });
        bounds_group.addLayer(layer_linia_146_100);
        // map.addLayer(layer_linia_146_100);
        function pop_linia_147_101(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_147_101_0() {
            return {
                pane: 'pane_linia_147_101',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_147_101');
        map.getPane('pane_linia_147_101').style.zIndex = 501;
        map.getPane('pane_linia_147_101').style['mix-blend-mode'] = 'normal';
        var layer_linia_147_101 = new L.geoJson(json_linia_147_101, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_147_101',
            layerName: 'layer_linia_147_101',
            pane: 'pane_linia_147_101',
            onEachFeature: pop_linia_147_101,
            style: style_linia_147_101_0,
        });
        bounds_group.addLayer(layer_linia_147_101);
        // map.addLayer(layer_linia_147_101);
        function pop_linia_148_102(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_148_102_0() {
            return {
                pane: 'pane_linia_148_102',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_148_102');
        map.getPane('pane_linia_148_102').style.zIndex = 502;
        map.getPane('pane_linia_148_102').style['mix-blend-mode'] = 'normal';
        var layer_linia_148_102 = new L.geoJson(json_linia_148_102, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_148_102',
            layerName: 'layer_linia_148_102',
            pane: 'pane_linia_148_102',
            onEachFeature: pop_linia_148_102,
            style: style_linia_148_102_0,
        });
        bounds_group.addLayer(layer_linia_148_102);
        // map.addLayer(layer_linia_148_102);
        function pop_linia_149_103(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_149_103_0() {
            return {
                pane: 'pane_linia_149_103',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_149_103');
        map.getPane('pane_linia_149_103').style.zIndex = 503;
        map.getPane('pane_linia_149_103').style['mix-blend-mode'] = 'normal';
        var layer_linia_149_103 = new L.geoJson(json_linia_149_103, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_149_103',
            layerName: 'layer_linia_149_103',
            pane: 'pane_linia_149_103',
            onEachFeature: pop_linia_149_103,
            style: style_linia_149_103_0,
        });
        bounds_group.addLayer(layer_linia_149_103);
        // map.addLayer(layer_linia_149_103);
        function pop_linia_150_104(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_150_104_0() {
            return {
                pane: 'pane_linia_150_104',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_150_104');
        map.getPane('pane_linia_150_104').style.zIndex = 504;
        map.getPane('pane_linia_150_104').style['mix-blend-mode'] = 'normal';
        var layer_linia_150_104 = new L.geoJson(json_linia_150_104, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_150_104',
            layerName: 'layer_linia_150_104',
            pane: 'pane_linia_150_104',
            onEachFeature: pop_linia_150_104,
            style: style_linia_150_104_0,
        });
        bounds_group.addLayer(layer_linia_150_104);
        // map.addLayer(layer_linia_150_104);
        function pop_linia_151_105(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_151_105_0() {
            return {
                pane: 'pane_linia_151_105',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_151_105');
        map.getPane('pane_linia_151_105').style.zIndex = 505;
        map.getPane('pane_linia_151_105').style['mix-blend-mode'] = 'normal';
        var layer_linia_151_105 = new L.geoJson(json_linia_151_105, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_151_105',
            layerName: 'layer_linia_151_105',
            pane: 'pane_linia_151_105',
            onEachFeature: pop_linia_151_105,
            style: style_linia_151_105_0,
        });
        bounds_group.addLayer(layer_linia_151_105);
        // map.addLayer(layer_linia_151_105);
        function pop_linia_152_106(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_152_106_0() {
            return {
                pane: 'pane_linia_152_106',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_152_106');
        map.getPane('pane_linia_152_106').style.zIndex = 506;
        map.getPane('pane_linia_152_106').style['mix-blend-mode'] = 'normal';
        var layer_linia_152_106 = new L.geoJson(json_linia_152_106, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_152_106',
            layerName: 'layer_linia_152_106',
            pane: 'pane_linia_152_106',
            onEachFeature: pop_linia_152_106,
            style: style_linia_152_106_0,
        });
        bounds_group.addLayer(layer_linia_152_106);
        // map.addLayer(layer_linia_152_106);
        function pop_linia_206_107(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_206_107_0() {
            return {
                pane: 'pane_linia_206_107',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_206_107');
        map.getPane('pane_linia_206_107').style.zIndex = 507;
        map.getPane('pane_linia_206_107').style['mix-blend-mode'] = 'normal';
        var layer_linia_206_107 = new L.geoJson(json_linia_206_107, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_206_107',
            layerName: 'layer_linia_206_107',
            pane: 'pane_linia_206_107',
            onEachFeature: pop_linia_206_107,
            style: style_linia_206_107_0,
        });
        bounds_group.addLayer(layer_linia_206_107);
        // map.addLayer(layer_linia_206_107);
        function pop_linia_240_108(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_240_108_0() {
            return {
                pane: 'pane_linia_240_108',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_240_108');
        map.getPane('pane_linia_240_108').style.zIndex = 508;
        map.getPane('pane_linia_240_108').style['mix-blend-mode'] = 'normal';
        var layer_linia_240_108 = new L.geoJson(json_linia_240_108, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_240_108',
            layerName: 'layer_linia_240_108',
            pane: 'pane_linia_240_108',
            onEachFeature: pop_linia_240_108,
            style: style_linia_240_108_0,
        });
        bounds_group.addLayer(layer_linia_240_108);
        // map.addLayer(layer_linia_240_108);
        function pop_linia_241_109(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_241_109_0() {
            return {
                pane: 'pane_linia_241_109',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_241_109');
        map.getPane('pane_linia_241_109').style.zIndex = 509;
        map.getPane('pane_linia_241_109').style['mix-blend-mode'] = 'normal';
        var layer_linia_241_109 = new L.geoJson(json_linia_241_109, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_241_109',
            layerName: 'layer_linia_241_109',
            pane: 'pane_linia_241_109',
            onEachFeature: pop_linia_241_109,
            style: style_linia_241_109_0,
        });
        bounds_group.addLayer(layer_linia_241_109);
        // map.addLayer(layer_linia_241_109);
        function pop_linia_242_110(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_242_110_0() {
            return {
                pane: 'pane_linia_242_110',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_242_110');
        map.getPane('pane_linia_242_110').style.zIndex = 510;
        map.getPane('pane_linia_242_110').style['mix-blend-mode'] = 'normal';
        var layer_linia_242_110 = new L.geoJson(json_linia_242_110, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_242_110',
            layerName: 'layer_linia_242_110',
            pane: 'pane_linia_242_110',
            onEachFeature: pop_linia_242_110,
            style: style_linia_242_110_0,
        });
        bounds_group.addLayer(layer_linia_242_110);
        // map.addLayer(layer_linia_242_110);
        function pop_linia_243_111(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_243_111_0() {
            return {
                pane: 'pane_linia_243_111',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_243_111');
        map.getPane('pane_linia_243_111').style.zIndex = 511;
        map.getPane('pane_linia_243_111').style['mix-blend-mode'] = 'normal';
        var layer_linia_243_111 = new L.geoJson(json_linia_243_111, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_243_111',
            layerName: 'layer_linia_243_111',
            pane: 'pane_linia_243_111',
            onEachFeature: pop_linia_243_111,
            style: style_linia_243_111_0,
        });
        bounds_group.addLayer(layer_linia_243_111);
        // map.addLayer(layer_linia_243_111);
        function pop_linia_244_112(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_244_112_0() {
            return {
                pane: 'pane_linia_244_112',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_244_112');
        map.getPane('pane_linia_244_112').style.zIndex = 512;
        map.getPane('pane_linia_244_112').style['mix-blend-mode'] = 'normal';
        var layer_linia_244_112 = new L.geoJson(json_linia_244_112, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_244_112',
            layerName: 'layer_linia_244_112',
            pane: 'pane_linia_244_112',
            onEachFeature: pop_linia_244_112,
            style: style_linia_244_112_0,
        });
        bounds_group.addLayer(layer_linia_244_112);
        // map.addLayer(layer_linia_244_112);
        function pop_linia_245_113(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_245_113_0() {
            return {
                pane: 'pane_linia_245_113',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_245_113');
        map.getPane('pane_linia_245_113').style.zIndex = 513;
        map.getPane('pane_linia_245_113').style['mix-blend-mode'] = 'normal';
        var layer_linia_245_113 = new L.geoJson(json_linia_245_113, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_245_113',
            layerName: 'layer_linia_245_113',
            pane: 'pane_linia_245_113',
            onEachFeature: pop_linia_245_113,
            style: style_linia_245_113_0,
        });
        bounds_group.addLayer(layer_linia_245_113);
        // map.addLayer(layer_linia_245_113);
        function pop_linia_246_114(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_246_114_0() {
            return {
                pane: 'pane_linia_246_114',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_246_114');
        map.getPane('pane_linia_246_114').style.zIndex = 514;
        map.getPane('pane_linia_246_114').style['mix-blend-mode'] = 'normal';
        var layer_linia_246_114 = new L.geoJson(json_linia_246_114, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_246_114',
            layerName: 'layer_linia_246_114',
            pane: 'pane_linia_246_114',
            onEachFeature: pop_linia_246_114,
            style: style_linia_246_114_0,
        });
        bounds_group.addLayer(layer_linia_246_114);
        // map.addLayer(layer_linia_246_114);
        function pop_linia_247_115(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_247_115_0() {
            return {
                pane: 'pane_linia_247_115',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_247_115');
        map.getPane('pane_linia_247_115').style.zIndex = 515;
        map.getPane('pane_linia_247_115').style['mix-blend-mode'] = 'normal';
        var layer_linia_247_115 = new L.geoJson(json_linia_247_115, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_247_115',
            layerName: 'layer_linia_247_115',
            pane: 'pane_linia_247_115',
            onEachFeature: pop_linia_247_115,
            style: style_linia_247_115_0,
        });
        bounds_group.addLayer(layer_linia_247_115);
        // map.addLayer(layer_linia_247_115);
        function pop_linia_248_116(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_248_116_0() {
            return {
                pane: 'pane_linia_248_116',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_248_116');
        map.getPane('pane_linia_248_116').style.zIndex = 516;
        map.getPane('pane_linia_248_116').style['mix-blend-mode'] = 'normal';
        var layer_linia_248_116 = new L.geoJson(json_linia_248_116, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_248_116',
            layerName: 'layer_linia_248_116',
            pane: 'pane_linia_248_116',
            onEachFeature: pop_linia_248_116,
            style: style_linia_248_116_0,
        });
        bounds_group.addLayer(layer_linia_248_116);
        // map.addLayer(layer_linia_248_116);
        function pop_linia_249_117(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_249_117_0() {
            return {
                pane: 'pane_linia_249_117',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_249_117');
        map.getPane('pane_linia_249_117').style.zIndex = 517;
        map.getPane('pane_linia_249_117').style['mix-blend-mode'] = 'normal';
        var layer_linia_249_117 = new L.geoJson(json_linia_249_117, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_249_117',
            layerName: 'layer_linia_249_117',
            pane: 'pane_linia_249_117',
            onEachFeature: pop_linia_249_117,
            style: style_linia_249_117_0,
        });
        bounds_group.addLayer(layer_linia_249_117);
        // map.addLayer(layer_linia_249_117);
        function pop_linia_250_118(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_250_118_0() {
            return {
                pane: 'pane_linia_250_118',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_250_118');
        map.getPane('pane_linia_250_118').style.zIndex = 518;
        map.getPane('pane_linia_250_118').style['mix-blend-mode'] = 'normal';
        var layer_linia_250_118 = new L.geoJson(json_linia_250_118, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_250_118',
            layerName: 'layer_linia_250_118',
            pane: 'pane_linia_250_118',
            onEachFeature: pop_linia_250_118,
            style: style_linia_250_118_0,
        });
        bounds_group.addLayer(layer_linia_250_118);
        // map.addLayer(layer_linia_250_118);
        function pop_linia_251_119(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_251_119_0() {
            return {
                pane: 'pane_linia_251_119',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_251_119');
        map.getPane('pane_linia_251_119').style.zIndex = 519;
        map.getPane('pane_linia_251_119').style['mix-blend-mode'] = 'normal';
        var layer_linia_251_119 = new L.geoJson(json_linia_251_119, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_251_119',
            layerName: 'layer_linia_251_119',
            pane: 'pane_linia_251_119',
            onEachFeature: pop_linia_251_119,
            style: style_linia_251_119_0,
        });
        bounds_group.addLayer(layer_linia_251_119);
        // map.addLayer(layer_linia_251_119);
        function pop_linia_253_120(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_253_120_0() {
            return {
                pane: 'pane_linia_253_120',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_253_120');
        map.getPane('pane_linia_253_120').style.zIndex = 520;
        map.getPane('pane_linia_253_120').style['mix-blend-mode'] = 'normal';
        var layer_linia_253_120 = new L.geoJson(json_linia_253_120, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_253_120',
            layerName: 'layer_linia_253_120',
            pane: 'pane_linia_253_120',
            onEachFeature: pop_linia_253_120,
            style: style_linia_253_120_0,
        });
        bounds_group.addLayer(layer_linia_253_120);
        // map.addLayer(layer_linia_253_120);
        function pop_linia_255_121(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_255_121_0() {
            return {
                pane: 'pane_linia_255_121',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_255_121');
        map.getPane('pane_linia_255_121').style.zIndex = 521;
        map.getPane('pane_linia_255_121').style['mix-blend-mode'] = 'normal';
        var layer_linia_255_121 = new L.geoJson(json_linia_255_121, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_255_121',
            layerName: 'layer_linia_255_121',
            pane: 'pane_linia_255_121',
            onEachFeature: pop_linia_255_121,
            style: style_linia_255_121_0,
        });
        bounds_group.addLayer(layer_linia_255_121);
        //map.addLayer(layer_linia_255_121);
        function pop_linia_520_122(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_520_122_0() {
            return {
                pane: 'pane_linia_520_122',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_520_122');
        map.getPane('pane_linia_520_122').style.zIndex = 522;
        map.getPane('pane_linia_520_122').style['mix-blend-mode'] = 'normal';
        var layer_linia_520_122 = new L.geoJson(json_linia_520_122, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_520_122',
            layerName: 'layer_linia_520_122',
            pane: 'pane_linia_520_122',
            onEachFeature: pop_linia_520_122,
            style: style_linia_520_122_0,
        });
        bounds_group.addLayer(layer_linia_520_122);
        //map.addLayer(layer_linia_520_122);
        function pop_linia_257_123(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_257_123_0() {
            return {
                pane: 'pane_linia_257_123',
                opacity: 1,
                color: 'rgba(125,139,143,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_257_123');
        map.getPane('pane_linia_257_123').style.zIndex = 523;
        map.getPane('pane_linia_257_123').style['mix-blend-mode'] = 'normal';
        var layer_linia_257_123 = new L.geoJson(json_linia_257_123, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_257_123',
            layerName: 'layer_linia_257_123',
            pane: 'pane_linia_257_123',
            onEachFeature: pop_linia_257_123,
            style: style_linia_257_123_0,
        });
        bounds_group.addLayer(layer_linia_257_123);
        //map.addLayer(layer_linia_257_123);
        function pop_linia_259_124(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_259_124_0() {
            return {
                pane: 'pane_linia_259_124',
                opacity: 1,
                color: 'rgba(196,60,57,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_259_124');
        map.getPane('pane_linia_259_124').style.zIndex = 524;
        map.getPane('pane_linia_259_124').style['mix-blend-mode'] = 'normal';
        var layer_linia_259_124 = new L.geoJson(json_linia_259_124, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_259_124',
            layerName: 'layer_linia_259_124',
            pane: 'pane_linia_259_124',
            onEachFeature: pop_linia_259_124,
            style: style_linia_259_124_0,
        });
        bounds_group.addLayer(layer_linia_259_124);
        //map.addLayer(layer_linia_259_124);
        function pop_linia_315_125(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_315_125_0() {
            return {
                pane: 'pane_linia_315_125',
                opacity: 1,
                color: 'rgba(190,207,80,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_315_125');
        map.getPane('pane_linia_315_125').style.zIndex = 525;
        map.getPane('pane_linia_315_125').style['mix-blend-mode'] = 'normal';
        var layer_linia_315_125 = new L.geoJson(json_linia_315_125, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_315_125',
            layerName: 'layer_linia_315_125',
            pane: 'pane_linia_315_125',
            onEachFeature: pop_linia_315_125,
            style: style_linia_315_125_0,
        });
        bounds_group.addLayer(layer_linia_315_125);
        //map.addLayer(layer_linia_315_125);
        function pop_linia_319_126(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_319_126_0() {
            return {
                pane: 'pane_linia_319_126',
                opacity: 1,
                color: 'rgba(183,72,75,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_319_126');
        map.getPane('pane_linia_319_126').style.zIndex = 526;
        map.getPane('pane_linia_319_126').style['mix-blend-mode'] = 'normal';
        var layer_linia_319_126 = new L.geoJson(json_linia_319_126, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_319_126',
            layerName: 'layer_linia_319_126',
            pane: 'pane_linia_319_126',
            onEachFeature: pop_linia_319_126,
            style: style_linia_319_126_0,
        });
        bounds_group.addLayer(layer_linia_319_126);
        //map.addLayer(layer_linia_319_126);
        function pop_linia_345_127(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';

    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Rodzaj transportu:</b></td><td>${p['route']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent);
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_345_127_0() {
            return {
                pane: 'pane_linia_345_127',
                opacity: 1,
                color: 'rgba(141,90,153,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_345_127');
        map.getPane('pane_linia_345_127').style.zIndex = 527;
        map.getPane('pane_linia_345_127').style['mix-blend-mode'] = 'normal';
        var layer_linia_345_127 = new L.geoJson(json_linia_345_127, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_345_127',
            layerName: 'layer_linia_345_127',
            pane: 'pane_linia_345_127',
            onEachFeature: pop_linia_345_127,
            style: style_linia_345_127_0,
        });
        bounds_group.addLayer(layer_linia_345_127);
        //map.addLayer(layer_linia_345_127);
        function pop_linia_512_128(feature, layer) {
            var p = feature.properties;
    var popupContent = '<table>';
    popupContent += '<tr><td colspan="2" style="text-align:center;"><b>Linia autobusowa</b></td></tr>';
    if (p['ref']) popupContent += `<tr><td><b>Numer linii:</b></td><td>${p['ref']}</td></tr>`;
    if (p['name']) popupContent += `<tr><td><b>Nazwa trasy:</b></td><td>${p['name']}</td></tr>`;
    if (p['from']) popupContent += `<tr><td><b>Początek trasy:</b></td><td>${p['from']}</td></tr>`;
    if (p['to']) popupContent += `<tr><td><b>Koniec trasy:</b></td><td>${p['to']}</td></tr>`;
    if (p['operator']) popupContent += `<tr><td><b>Operator:</b></td><td>${p['operator']}</td></tr>`;
    if (p['route']) popupContent += `<tr><td><b>Typ trasy:</b></td><td>${p['route']}</td></tr>`;
    if (p['routes_rou']) popupContent += `<tr><td><b>Typ pojazdu:</b></td><td>${p['routes_rou']}</td></tr>`;
    if (p['Długość']) popupContent += `<tr><td><b>Długość trasy (km):</b></td><td>${p['Długość']}</td></tr>`;

    if (p['ref']) {
        const numer = String(p['ref']).replace(/[^0-9A-Za-z]/g, '');
        popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
            <a href="https://www.wroclaw.pl/komunikacja/linia-${numer}-wroclaw" target="_blank" style="text-decoration:none; font-weight:bold;">
                📅 Sprawdź rozkład jazdy
            </a></td></tr>`;
    }

    popupContent += '</table>';
    layer.bindPopup(popupContent, { maxHeight: 400 });
	layer.on('click', function (e) {
    highlightOnClick(e.target);
});
}

        function style_linia_512_128_0() {
            return {
                pane: 'pane_linia_512_128',
                opacity: 1,
                color: 'rgba(213,180,60,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 2.5,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_linia_512_128');
        map.getPane('pane_linia_512_128').style.zIndex = 528;
        map.getPane('pane_linia_512_128').style['mix-blend-mode'] = 'normal';
        var layer_linia_512_128 = new L.geoJson(json_linia_512_128, {
            attribution: '',
            interactive: true,
            dataVar: 'json_linia_512_128',
            layerName: 'layer_linia_512_128',
            pane: 'pane_linia_512_128',
            onEachFeature: pop_linia_512_128,
            style: style_linia_512_128_0,
        });
        bounds_group.addLayer(layer_linia_512_128);
        //map.addLayer(layer_linia_512_128);
        function pop_Dworcekolejowe_129(feature, layer) {
    var popupContent = '<table>';

if (feature.properties['Nazwa']) {
    popupContent += `<tr><td colspan="2" style="text-align:center;">
        <b> ${feature.properties['Nazwa']} – Dworzec kolejowy</b>
    </td></tr>`;
}

    if (feature.properties['fid'] !== null) {
        popupContent += '<tr><td colspan="2"><b>ID:</b> ' +
            autolinker.link(String(feature.properties['fid']).replace(/'/g, '\'').toLocaleString()) + '</td></tr>';
    }

    if (feature.properties['Nazwa'] !== null) {
        var nazwa = feature.properties['Nazwa'];
	if (nazwa === 'Wrocław Główny') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 6</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> windy, kasy, informacja, schody ruchome</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Godziny otwarcia:</b> 24h na dobę</td></tr>`;
	popupContent += `<tr><td colspan='2'><b>Adres:</b> ul. Piłsudskiego 105, 50‑085 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Nadodrze') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 3</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> przejście podziemne, wiata nad peronem, semafory świetlne</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> Plac Stanisława Staszica 50, 50‑222 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Psie Pole') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 2</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> poczekalnia, dostosowanie dla niepełnosprawnych</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> ul. Dobroszycka 2, 51‑317 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Sołtysowice') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 3</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> dojście w poziomie szyn, bez infrastruktury</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> al. Poprzeczna 37, 51‑167 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Nowy Dwór') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 2 wysokie, jednokrawędziowe</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> wiaty przystankowe, ławki</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> ul. Żernicka, 54‑438 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Kuźniki') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 1</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> przejście podziemne, poczekalnia</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> ul. Metalowców 61, 54‑156 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Swojczyce') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 2</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> pochylnie, oznakowanie dotykowe</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> ul. Gospodarska 1, 51‑503 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Zachodni') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 2</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> pochylnie, system Braille’a</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> 	ul. Avicenny 37, 52‑405 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Leśnica') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 2</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> pochylnie, platforma przyschodowa</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> ul. Jana Rubczaka 20, 54‑002 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Osobowice') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 2</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> platforma przyschodowa, pomoc pracownika</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> ul. Pełczyńska 44, 51‑180 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Żerniki') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 1</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> pochylnia, wiata przystankowa</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> ul. Dojazd 2, 54‑518 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Muchobór') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 2</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> winda, system dotykowy, Braille</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> ul. Traktorowa, 54-425 Wrocław</td></tr>`;
} else if (nazwa === 'Wrocław Pracze') {
    popupContent += `<tr><td colspan='2'><b>Perony:</b> 1</td></tr>`;
    popupContent += `<tr><td colspan='2'><b>Udogodnienia:</b> dostosowanie z opiekunem</td></tr>`;
	popupContent += `<tr><td colspan='2'><b> Adres:</b> ul. Towarowa 6, 54‑066 Wrocław</td></tr>`;
}
        popupContent += '<tr><td colspan="2"><b>Nazwa dworca:</b> ' +
            autolinker.link(nazwa.replace(/'/g, '\'').toLocaleString()) + '</td></tr>';

        // Generowanie nazwy pliku na podstawie nazwy dworca
        var filename = nazwa.toLowerCase()
                            .replace(/ /g, "_")
                            .replace(/[ąćęłńóśźż]/g, function(c) {
                                return {'ą':'a','ć':'c','ę':'e','ł':'l','ń':'n','ó':'o','ś':'s','ź':'z','ż':'z'}[c];
                            })
                            .replace(/[^a-z0-9_]/g, ""); // usuwa znaki specjalne

        var imgPath = "images/" + filename + ".jpg";

        // Dodajemy obrazek — ładowany z kontrolą błędu
        popupContent += `<tr><td colspan="2">
            <img src="${imgPath}" alt="Zdjęcie dworca" width="320" height="200"
     style="object-fit: cover; border-radius: 8px; margin-top: 5px;"
     onerror="this.style.display='none';">
        </td></tr>`;
		//popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
         //   <a href="https://rozklad-pkp.pl" target="_blank" style="text-decoration:none; font-weight:bold;">
         //       🔗 Sprawdź rozkład jazdy
         //   </a></td></tr>`;
		var coords = feature.geometry.coordinates;
var lat = coords[1];
var lon = coords[0];

popupContent += `<tr><td colspan="2" style="text-align:center; padding-top:8px;">
    <div class="popup-actions">
        <a href="https://rozklad-pkp.pl" target="_blank" class="popup-link">📅 Sprawdź rozkład jazdy</a><br>
        <a href="https://www.google.com/maps/search/?api=1&query=${lat},${lon}" target="_blank" class="popup-link">📍 Pokaż dojazd</a>
    </div>
</td></tr>`;
	}

    popupContent += '</table>';

    var content = removeEmptyRowsFromPopupContent(popupContent, feature);
    layer.on('popupopen', function(e) {
        addClassToPopupIfMedia(content, e.popup);
    });
    layer.bindPopup(content, { maxHeight: 500 });
}

        function style_Dworcekolejowe_129_0() {
            return {
                pane: 'pane_Dworcekolejowe_129',
        rotationAngle: 0.0,
        rotationOrigin: 'center center',
        icon: L.icon({
            iconUrl: 'markers/Dworcekolejowe_129.svg',
            iconSize: [18, 18]
        }),
                interactive: true,
            }
        }
        map.createPane('pane_Dworcekolejowe_129');
        map.getPane('pane_Dworcekolejowe_129').style.zIndex = 529;
        map.getPane('pane_Dworcekolejowe_129').style['mix-blend-mode'] = 'normal';
        var layer_Dworcekolejowe_129 = new L.geoJson(json_Dworcekolejowe_129, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Dworcekolejowe_129',
            layerName: 'layer_Dworcekolejowe_129',
            pane: 'pane_Dworcekolejowe_129',
            onEachFeature: pop_Dworcekolejowe_129,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.marker(latlng, style_Dworcekolejowe_129_0(feature));
            },
        });
        bounds_group.addLayer(layer_Dworcekolejowe_129);
        map.addLayer(layer_Dworcekolejowe_129);
        var overlaysTree = [
            {label: '<img src="legend/Dworcekolejowe_129.png" /> Dworce kolejowe', layer: layer_Dworcekolejowe_129},
        {label: '<b>Linie autobusowe</b>', selectAllCheckbox: true, expanded: false, children: [
            {label: '<img src="legend/linia_512_128.png" /> linia 512', layer: layer_linia_512_128},
            {label: '<img src="legend/linia_345_127.png" /> linia 345', layer: layer_linia_345_127},
            {label: '<img src="legend/linia_319_126.png" /> linia 319', layer: layer_linia_319_126},
            {label: '<img src="legend/linia_315_125.png" /> linia 315', layer: layer_linia_315_125},
            {label: '<img src="legend/linia_259_124.png" /> linia 259', layer: layer_linia_259_124},
            {label: '<img src="legend/linia_257_123.png" /> linia 257', layer: layer_linia_257_123},
            {label: '<img src="legend/linia_520_122.png" /> linia 520', layer: layer_linia_520_122},
            {label: '<img src="legend/linia_255_121.png" /> linia 255', layer: layer_linia_255_121},
            {label: '<img src="legend/linia_253_120.png" /> linia 253', layer: layer_linia_253_120},
            {label: '<img src="legend/linia_253_120.png" /> linia 253', layer: layer_linia_253_120},
            {label: '<img src="legend/linia_251_119.png" /> linia 251', layer: layer_linia_251_119},
            {label: '<img src="legend/linia_250_118.png" /> linia 250', layer: layer_linia_250_118},
            {label: '<img src="legend/linia_249_117.png" /> linia 249', layer: layer_linia_249_117},
            {label: '<img src="legend/linia_248_116.png" /> linia 248', layer: layer_linia_248_116},
            {label: '<img src="legend/linia_247_115.png" /> linia 247', layer: layer_linia_247_115},
            {label: '<img src="legend/linia_246_114.png" /> linia 246', layer: layer_linia_246_114},
            {label: '<img src="legend/linia_245_113.png" /> linia 245', layer: layer_linia_245_113},
            {label: '<img src="legend/linia_244_112.png" /> linia 244', layer: layer_linia_244_112},
            {label: '<img src="legend/linia_243_111.png" /> linia 243', layer: layer_linia_243_111},
            {label: '<img src="legend/linia_242_110.png" /> linia 242', layer: layer_linia_242_110},
            {label: '<img src="legend/linia_241_109.png" /> linia 241', layer: layer_linia_241_109},
            {label: '<img src="legend/linia_240_108.png" /> linia 240', layer: layer_linia_240_108},
            {label: '<img src="legend/linia_206_107.png" /> linia 206', layer: layer_linia_206_107},
            {label: '<img src="legend/linia_152_106.png" /> linia 152', layer: layer_linia_152_106},
            {label: '<img src="legend/linia_151_105.png" /> linia 151', layer: layer_linia_151_105},
            {label: '<img src="legend/linia_150_104.png" /> linia 150', layer: layer_linia_150_104},
            {label: '<img src="legend/linia_149_103.png" /> linia 149', layer: layer_linia_149_103},
            {label: '<img src="legend/linia_148_102.png" /> linia 148', layer: layer_linia_148_102},
            {label: '<img src="legend/linia_147_101.png" /> linia 147', layer: layer_linia_147_101},
            {label: '<img src="legend/linia_146_100.png" /> linia 146', layer: layer_linia_146_100},
            {label: '<img src="legend/linia_145_99.png" /> linia 145', layer: layer_linia_145_99},
            {label: '<img src="legend/linia_144_98.png" /> linia 144', layer: layer_linia_144_98},
            {label: '<img src="legend/linia_143_97.png" /> linia 143', layer: layer_linia_143_97},
            {label: '<img src="legend/linia_142_96.png" /> linia 142', layer: layer_linia_142_96},
            {label: '<img src="legend/linia_136_95.png" /> linia 136', layer: layer_linia_136_95},
            {label: '<img src="legend/linia_134_94.png" /> linia 134', layer: layer_linia_134_94},
            {label: '<img src="legend/linia_133_93.png" /> linia 133', layer: layer_linia_133_93},
            {label: '<img src="legend/linia_132_92.png" /> linia 132', layer: layer_linia_132_92},
            {label: '<img src="legend/linia_131_91.png" /> linia 131', layer: layer_linia_131_91},
            {label: '<img src="legend/linia_130_90.png" /> linia 130', layer: layer_linia_130_90},
            {label: '<img src="legend/linia_129_89.png" /> linia 129', layer: layer_linia_129_89},
            {label: '<img src="legend/linia_128_88.png" /> linia 128', layer: layer_linia_128_88},
            {label: '<img src="legend/linia_127_87.png" /> linia 127', layer: layer_linia_127_87},
            {label: '<img src="legend/linia_126_86.png" /> linia 126', layer: layer_linia_126_86},
            {label: '<img src="legend/linia_125_85.png" /> linia 125', layer: layer_linia_125_85},
            {label: '<img src="legend/linia_124_84.png" /> linia 124', layer: layer_linia_124_84},
            {label: '<img src="legend/linia_122_83.png" /> linia 122', layer: layer_linia_122_83},
            {label: '<img src="legend/linia_121_82.png" /> linia 121', layer: layer_linia_121_82},
            {label: '<img src="legend/linia_120_81.png" /> linia 120', layer: layer_linia_120_81},
            {label: '<img src="legend/linia_119_80.png" /> linia 119', layer: layer_linia_119_80},
            {label: '<img src="legend/linia_118_79.png" /> linia 118', layer: layer_linia_118_79},
            {label: '<img src="legend/linia_116_78.png" /> linia 116', layer: layer_linia_116_78},
            {label: '<img src="legend/linia_115_77.png" /> linia 115', layer: layer_linia_115_77},
            {label: '<img src="legend/linia_114_76.png" /> linia 114', layer: layer_linia_114_76},
            {label: '<img src="legend/linia_113_75.png" /> linia 113', layer: layer_linia_113_75},
            {label: '<img src="legend/linia_112_74.png" /> linia 112', layer: layer_linia_112_74},
            {label: '<img src="legend/linia_111_73.png" /> linia 111', layer: layer_linia_111_73},
            {label: '<img src="legend/linia_110_72.png" /> linia 110', layer: layer_linia_110_72},
            {label: '<img src="legend/linia_108_71.png" /> linia 108', layer: layer_linia_108_71},
            {label: '<img src="legend/linia_107_70.png" /> linia 107', layer: layer_linia_107_70},
            {label: '<img src="legend/linia_106_69.png" /> linia 106', layer: layer_linia_106_69},
            {label: '<img src="legend/linia_105_68.png" /> linia 105', layer: layer_linia_105_68},
            {label: '<img src="legend/linia_104_67.png" /> linia 104', layer: layer_linia_104_67},
            {label: '<img src="legend/linia_103_66.png" /> linia 103', layer: layer_linia_103_66},
            {label: '<img src="legend/linia_102_65.png" /> linia 102', layer: layer_linia_102_65},
            {label: '<img src="legend/linia_101_64.png" /> linia 101', layer: layer_linia_101_64},
            {label: '<img src="legend/linia_100_63.png" /> linia 100', layer: layer_linia_100_63},
            {label: '<img src="legend/linia_N_62.png" /> linia N', layer: layer_linia_N_62},
            {label: '<img src="legend/linia_K_61.png" /> linia K', layer: layer_linia_K_61},
            {label: '<img src="legend/linia_D_60.png" /> linia D', layer: layer_linia_D_60},
            {label: '<img src="legend/linia_A_59.png" /> linia A', layer: layer_linia_A_59},
            {label: '<img src="legend/linia_936_58.png" /> linia 936', layer: layer_linia_936_58},
            {label: '<img src="legend/linia_934_57.png" /> linia 934', layer: layer_linia_934_57},
            {label: '<img src="legend/linia_933_56.png" /> linia 933', layer: layer_linia_933_56},
            {label: '<img src="legend/linia_931_55.png" /> linia 931', layer: layer_linia_931_55},
            {label: '<img src="legend/linia_930_54.png" /> linia 930', layer: layer_linia_930_54},
            {label: '<img src="legend/linia_924_53.png" /> linia 924', layer: layer_linia_924_53},
            {label: '<img src="legend/linia_921_52.png" /> linia 921', layer: layer_linia_921_52},
            {label: '<img src="legend/linia_920_51.png" /> linia 920', layer: layer_linia_920_51},
            {label: '<img src="legend/linia_914_50.png" /> linia 914', layer: layer_linia_914_50},
            {label: '<img src="legend/linia_911_49.png" /> linia 911', layer: layer_linia_911_49},
            {label: '<img src="legend/linia_908_48.png" /> linia 908', layer: layer_linia_908_48},
            {label: '<img src="legend/linia_905_47.png" /> linia 905', layer: layer_linia_905_47},
            {label: '<img src="legend/linia_904_46.png" /> linia 904', layer: layer_linia_904_46},
            {label: '<img src="legend/linia_870_45.png" /> linia 870', layer: layer_linia_870_45},
            {label: '<img src="legend/linia_860_44.png" /> linia 860', layer: layer_linia_860_44},
            {label: '<img src="legend/linia_820_43.png" /> linia 820', layer: layer_linia_820_43},
            {label: '<img src="legend/linia_810_42.png" /> linia 810', layer: layer_linia_810_42},
            {label: '<img src="legend/linia_800_41.png" /> linia 800', layer: layer_linia_800_41},
            {label: '<img src="legend/linia_612_40.png" /> linia 612', layer: layer_linia_612_40},
            {label: '<img src="legend/linia_607_39.png" /> linia 607', layer: layer_linia_607_39},
            {label: '<img src="legend/linia_602_38.png" /> linia 602', layer: layer_linia_602_38},]},
        {label: '<b>Linie tramwajowe</b>', selectAllCheckbox: true, expanded: false, children: [
            {label: '<img src="legend/linia_0_29.png" /> linia 0', layer: layer_linia_0_29},
			{label: '<img src="legend/linia_1_30.png" /> linia 1', layer: layer_linia_1_30},
			{label: '<img src="legend/linia_2_31.png" /> linia 2', layer: layer_linia_2_31},
			{label: '<img src="legend/linia_3_32.png" /> linia 3', layer: layer_linia_3_32},
			{label: '<img src="legend/linia_4_33.png" /> linia 4', layer: layer_linia_4_33},
			{label: '<img src="legend/linia_5_34.png" /> linia 5', layer: layer_linia_5_34},
            {label: '<img src="legend/linia_6_35.png" /> linia 6', layer: layer_linia_6_35},
            {label: '<img src="legend/linia_7_36.png" /> linia 7', layer: layer_linia_7_36},
            {label: '<img src="legend/linia_8_37.png" /> linia 8', layer: layer_linia_8_37},
            {label: '<img src="legend/linia_9_13.png" /> linia 9', layer: layer_linia_9_13},
            {label: '<img src="legend/linia_10_14.png" /> linia 10', layer: layer_linia_10_14},
			{label: '<img src="legend/linia_11_15.png" /> linia 11', layer: layer_linia_11_15},
			{label: '<img src="legend/linia_12_16.png" /> linia 12', layer: layer_linia_12_16},
			{label: '<img src="legend/linia_13_17.png" /> linia 13', layer: layer_linia_13_17},
			{label: '<img src="legend/linia_13_17.png" /> linia 13', layer: layer_linia_13_17},
			{label: '<img src="legend/linia_14_18.png" /> linia 14', layer: layer_linia_14_18},
			{label: '<img src="legend/linia_15_19.png" /> linia 15', layer: layer_linia_15_19},
			{label: '<img src="legend/linia_16_20.png" /> linia 16', layer: layer_linia_16_20},
			{label: '<img src="legend/linia_17_21.png" /> linia 17', layer: layer_linia_17_21},
			{label: '<img src="legend/linia_18_22.png" /> linia 18', layer: layer_linia_18_22},
			{label: '<img src="legend/linia_19_23.png" /> linia 19', layer: layer_linia_19_23},
			{label: '<img src="legend/linia_20_24.png" /> linia 20', layer: layer_linia_20_24},
			{label: '<img src="legend/linia_21_25.png" /> linia 21', layer: layer_linia_21_25},
			{label: '<img src="legend/linia_22_26.png" /> linia 22', layer: layer_linia_22_26},
			{label: '<img src="legend/linia_23_27.png" /> linia 23', layer: layer_linia_23_27},
			{label: '<img src="legend/linia_24_28.png" /> linia 24', layer: layer_linia_24_28},]},
            {label: '<img src="legend/Przystankiautobusowe_12.png" /> Przystanki autobusowe', layer: layer_Przystankiautobusowe_12},
            {label: '<img src="legend/Przystankitramwajowe_11.png" /> Przystanki tramwajowe', layer: layer_Przystankitramwajowe_11},
        {label: '<b>Infrastruktura rowerowa</b>', selectAllCheckbox: true, expanded: false, children: [
            {label: '<img src="legend/Pasyroweroweexp_10.png" /> Pasy rowerowe', layer: layer_Pasyroweroweexp_10},
            {
			label: '<span style="display:inline-block; width:12px; height:12px; border-radius:50%; background:#E74C3C; border:1px solid #000; margin-right:6px;"></span> Stacja naprawy rowerów',
			layer: layer_Stacjanaprawyrowerwexp_9
			},
            {label: '<img src="legend/Parkinigidlarowerwexp_8.png" /> Parkinigi dla rowerów', layer: layer_Parkinigidlarowerwexp_8},
            {
			label: '<span style="display:inline-block; width:12px; height:12px; border-radius:50%; background:#7F8C8D; border:1px solid #000; margin-right:6px;"></span> Wypożyczalnie rowerów',
			layer: layer_Wypoyczalniarowerwexp_7
			},
            {
			label: '<span style="display:inline-block; width:12px; height:12px; border-radius:50%; background:#9B59B6; border:1px solid #000; margin-right:6px;"></span> Sklepy rowerowe',
			layer: layer_Sklepyroweroweexp_6
			},
            {label: '<img src="legend/ciekiroweroweexp_5.png" /> Ścieżki rowerowe', layer: layer_ciekiroweroweexp_5},]},
            {label: '<img src="legend/ParkujiJed_4.png" /> Parkuj i Jedź', layer: layer_ParkujiJed_4},
            {label: '<img src="legend/GranicamiastaWrocaw_1.png" /> Granica miasta Wrocław', layer: layer_GranicamiastaWrocaw_1},
            {label: "OSM LIGHT", layer: layer_OSMLIGHT_0},]
        var lay = L.control.layers.tree(null, overlaysTree,{
            //namedToggle: true,
            //selectorBack: false,
            //closedSymbol: '&#8862; &#x1f5c0;',
            //openedSymbol: '&#8863; &#x1f5c1;',
            //collapseAll: 'Collapse all',
            //expandAll: 'Expand all',
            collapsed: false
        });
		
		overlaysTree[1].children.sort((a, b) => {
  const numA = parseInt(a.label.match(/\d+/));
  const numB = parseInt(b.label.match(/\d+/));
  return numA - numB;
});
        lay.addTo(map);
		setTimeout(function () {
    document.querySelectorAll('.leaflet-control-layers-group > label > input[type="checkbox"]').forEach(cb => {
        if (cb.checked) cb.click(); // kliknięcie w checkbox zwija grupę
    });
}, 300);
		setTimeout(function () {
    var layerBox = document.querySelector('.leaflet-control-layers-list');
    if (layerBox && !document.querySelector('.custom-legend-title')) {
        var header = document.createElement('div');
        header.className = 'custom-legend-title';
        header.innerHTML = '<b> Zawartość mapy</b>';
        header.style.padding = '6px 10px';
        header.style.fontFamily = 'Arial';
        header.style.fontSize = '14px';
        header.style.borderBottom = '1px solid #ccc';
        header.style.marginBottom = '6px';
        layerBox.prepend(header);
    }
}, 300);
        setBounds();
        var i = 0;
        layer_Peronydworcwkolejowych_2.eachLayer(function(layer) {
            var context = {
                feature: layer.feature,
                variables: {}
            };
            layer.bindTooltip((layer.feature.properties['Nazwa'] !== null?String('<div style="color: #323232; font-size: 9pt; font-family: \'Rockwell\', sans-serif;">' + layer.feature.properties['Nazwa']) + '</div>':''), {permanent: true, offset: [-0, -16], className: 'css_Peronydworcwkolejowych_2'});
            labels.push(layer);
            totalMarkers += 1;
              layer.added = true;
              addLabel(layer, i);
              i++;
        });
        resetLabels([layer_Peronydworcwkolejowych_2]);
        map.on("zoomend", function(){
            resetLabels([layer_Peronydworcwkolejowych_2]);
        });
        map.on("layeradd", function(){
            resetLabels([layer_Peronydworcwkolejowych_2]);
        });
        map.on("layerremove", function(){
            resetLabels([layer_Peronydworcwkolejowych_2]);
        });
		var baseLayers = {
    "🗺️ Klasyczna": baseLayer_OSM,
    "🌙 Ciemna": baseLayer_Dark,
    "🛰️ Ortofotomapa": baseLayer_ESRI  // jeśli masz też satelitę
};
		
// Dodaj nagłówek „Zawartość mapy” na górze kontrolki warstw
setTimeout(function () {
    var container = document.querySelector('.leaflet-control-layers');
    if (container) {
        var title = document.createElement('div');
        title.innerHTML = '🗂️ <b>Zawartość mapy</b>';
        title.style.padding = '6px 10px';
        title.style.fontFamily = 'Arial';
        title.style.fontSize = '14px';
        container.insertBefore(title, container.firstChild);
    }
}, 100);

		</script>
	<div id="logo-wroclaw">
    <img src="images/logo_wroclaw.png" alt="Logo Wrocławia" />
</div>
	<div id="map-status-bar">
  Układ współrzędnych mapy 1992 (EPSG 2180)
  <span id="map-coords"></span>
  <span id="map-scale"></span>
</div>
	<div id="logo-wroclaw">
    <img src="images/logo_wroclaw.png" alt="Logo Wrocławia" />
</div>
    <img src="images/logo_wroclaw.png" alt="Logo Wrocławia" />
  </div>
  <div id="map"></div>
	<div id="logo-wroclaw-center">
    <img src="images/logo_wroclaw.png" alt="Logo Wrocławia" />
</div>
<div id="welcomeModal">
  <div id="welcomeContent">
   <img src="images/baner.jpg" alt="Baner mapy" style="width: 100%; border-radius: 5px 5px 0 0; margin-bottom: 15px;">
    <h2>Mapa komunikacji Wrocławia</h2>
    <p>
      Na tej mapie znajdziesz przystanki, linie autobusowe i tramwajowe,<br>
      stacje rowerowe oraz wiele więcej. Wszystko autorstwa Piotra Nowaka<br><br>
      Kliknij na element mapy, aby zobaczyć szczegóły.
    </p>
    <button onclick="document.getElementById('welcomeModal').style.display='none'">Zamknij</button>
  </div>
</div>

    </body>
</html>
